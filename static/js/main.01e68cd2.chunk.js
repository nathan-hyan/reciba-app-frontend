(this["webpackJsonpreciba-app"]=this["webpackJsonpreciba-app"]||[]).push([[0],{140:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t(282),c=t(162);var s,o="es"===localStorage.getItem("i18nextLng")&&"en"===localStorage.getItem("i18nextLng")?localStorage.getItem("i18nextLng"):"en";n.a.use(r.a).use(c.a).init({fallbackLng:o,detection:{order:["localStorage"],cache:["localStorage"]},interpolation:{escapeValue:!1}}),(s=t(217)).keys().map(s)},171:function(e,a,t){e.exports={qrcode:"styles_qrcode__1IE9l"}},217:function(e,a,t){var n={"./components/LoadingScreen/i18n.ts":218,"./components/Navigation/i18n.ts":219,"./screens/ChangePassword/i18n.ts":220,"./screens/Confirmation/i18n.ts":221,"./screens/ConfirmationError/i18n.ts":222,"./screens/Dashboard/components/Filter/i18n.ts":223,"./screens/Dashboard/components/InvoicesList/i18n.ts":224,"./screens/Dashboard/components/SendMailModal/i18n.ts":225,"./screens/Dashboard/components/TagsModal/i18n.ts":226,"./screens/Dashboard/i18n.ts":227,"./screens/DisplayInvoice/components/Bill/i18n.ts":228,"./screens/DisplayInvoice/components/ButtonsGroup/i18n.ts":229,"./screens/DisplayInvoice/components/EmailInput/i18n.ts":230,"./screens/DisplayInvoice/i18n.ts":231,"./screens/GenerateInvoice/components/ShowQRCodeModal/i18n.ts":232,"./screens/GenerateInvoice/i18n.ts":233,"./screens/Home/i18n.ts":234,"./screens/Login/i18n.ts":235,"./screens/Logout/i18n.ts":236,"./screens/Profile/i18n.ts":237,"./screens/Signature/components/DownloadModal/i18n.ts":238,"./screens/Signature/i18n.ts":239,"./screens/Signature/screens/ThankYouScreen/i18n.ts":240,"./screens/Signup/i18n.ts":241,"./utils/i18n.js":140};function r(e){var a=c(e);return t(a)}function c(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=217},218:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","LoadingScreen",{text:"Cargando datos"}),n.a.addResources("en","LoadingScreen",{text:"Loading data"})},219:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","NavBar",{actualUser:"Usuario actual",guest:"Invitado"}),n.a.addResources("en","NavBar",{actualUser:"Current user",guest:"Guest"}),n.a.addResources("es","LoggedInOpts",{home:"Principal",newInvoice:"Nuevo comprobante",dashboard:"Tablero",profile:"Perfil",changePassword:"Cambiar contrase\xf1a",closeSession:"Cerrar sesi\xf3n"}),n.a.addResources("en","LoggedInOpts",{home:"Home",newInvoice:"New invoice",dashboard:"Dashboard",profile:"Profile",changePassword:"Change password",closeSession:"Log out"}),n.a.addResources("es","LoggedOutOpts",{login:"Iniciar sesi\xf3n",signUp:"Crear usuario"}),n.a.addResources("en","LoggedOutOpts",{login:"Log in",signUp:"Sign up"})},220:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","ChangePassword",{currentPassword:"Contrase\xf1a actual",currentPasswordValidation:"La contrase\xf1a no puede estar vac\xeda",newPassword:"Nueva contrase\xf1a",newPasswordValidation:"Ingrese una nueva contrase\xf1a",repeatNewPassword:"Repetir nueva contrase\xf1a",repeatNewPasswordValidation:"Verifique que la contrase\xf1a que ingres\xf3 coincida",submit:"Enviar",dontMatch:"Las contrase\xf1as no coinciden",confirm:"\xbfSeguro que quer\xe9s cambiar la contrase\xf1a? Deber\xe1s volver a ingresar luego"}),n.a.addResources("en","ChangePassword",{currentPassword:"Current password",currentPasswordValidation:"This field can't be empty",newPassword:"New password",newPasswordValidation:"You must enter a new password",repeatNewPassword:"Repeat new password",repeatNewPasswordValidation:"Repeat the new password",submit:"Send",dontMatch:"Passwords don't match",confirm:"Are you sure you want to change your password? You have to log back in later"})},221:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Confirm",{text:"Confirmando usuario",success:"Usuario registrado correctamente. Ya puede iniciar sesi\xf3n",error:"Ocurri\xf3 un error intentando registrarse"}),n.a.addResources("en","Confirm",{text:"Confirming user",success:"User successfully registered. You can now login",error:"There was an error confirming your user."})},222:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","ConfirmError",{bigNoValidatedText:"Parece que tu cuenta no est\xe1 verificada. \xbfTe fijaste en tu e-mail? ",bigInvalidText:"Aparentemente el link que usaste no es v\xe1lido... Raro, \xbfno? ",smallInvalidText:"No importa, ya te estamos mandando otro mail ",smallNoValidatedText:"Si no te lleg\xf3, no te preocup\xe9s. Ya te mandamos un mail nuevo ",login:"Iniciar sesi\xf3n"}),n.a.addResources("en","ConfirmError",{bigNoValidatedText:"It looks like your account isn't verified. Have you checked your e-mail? ",smallNoValidatedText:"If theres nothing in your inbox, don't worry! We've sent a new mail ",bigInvalidText:"Apparently the link you used is invalid... that's kinda odd ",smallInvalidText:"Anyway, we're sending another link right now ",login:"Login"})},223:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Filter",{filter:"Filtro",title:"Mostrando las boletas de",tag:"Etiqueta",from:"Desde",to:"Hasta",search:"Buscar",payment:"Metodo de pago",cleanSearch:"Limpiar b\xfasqueda",all:"Todos los m\xe9todos"}),n.a.addResources("en","Filter",{filter:"Filter",title:"Displaying invoices from",tag:"Tag",from:"Since",to:"To",search:"Search",payment:"Payment type",cleanSearch:"Clean search",all:"All methods"})},224:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Invoices",{pending:"Boletas pendientes",completed:"Boletas finalizadas",mail:"Mail ya enviado a"}),n.a.addResources("en","Invoices",{pending:"Pending invoices",completed:"Completed invoices",mail:"Email already sent to"})},225:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Mail",{noValue:"Debe especificar un mail v\xe1lido",cantSend:"Ocurri\xf3 un error enviando el mail, reintente",title:"Enviar por mail",address:"Direcci\xf3n de correo",linkText:"Tambi\xe9n pod\xe9s copiar este link y pasarlo por privado",close:"Cerrar",loading:"Espere un momento...",send:"Enviar"}),n.a.addResources("en","Mail",{noValue:"You must specify a valid e-mail address",cantSend:"There was an error sending the mail. Please, try again",title:"Send via e-mail",address:"E-mail address",linkText:"You can also copy this link and send it via private message",close:"Close",loading:"Just a moment...",send:"Send"})},226:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Tags",{title:"Agregar etiquetas",label:"Etiquetas separadas por comas",placeholder:"pendiente, seguimiento",close:"Cerrar",save:"Guardar"}),n.a.addResources("en","Tags",{title:"Add tags",label:"Tags separated by commas",placeholder:"pending, person name",close:"Close",save:"Save"})},227:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Dashboard",{queryError:"Ocurri\xf3 un error trayendo los datos",deleteBill:"Advertencia, se borrar\xe1 la boleta. \xbfDesea continuar?",deleteConfirm:"Boleta borrada correctamente"}),n.a.addResources("en","Dashboard",{queryError:"There was an error getting the data",deleteBill:"Warning! The invoice will be deleted. Do you want to continue?",deleteConfirm:"Invoice deleted successfully"})},228:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Invoice",{originalInvoice:"Recibo original",duplicateInvoice:"Recibo duplicado",receiptNumber:"Recibo N\xb0",date:"Fecha",received:"Recib\xed",from:"De",quantity:"La cantidad de",inConceptOf:"En concepto de",receiptBy:"Recibo por",signature:"Firma"}),n.a.addResources("en","Invoice",{originalInvoice:"Original receipt",duplicateInvoice:"Duplicated receipt",receiptNumber:"Invoice number",date:"Date",received:"I received",from:"From",quantity:"Quantity of",inConceptOf:"In concept of",receiptBy:"Receipt by",signtaure:"Signature"})},229:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Buttons",{download:"Descargar PDF",sendToPhone:"Enviar PDF al tel\xe9fono",sendToMail:"Enviar copia por mail"}),n.a.addResources("en","Buttons",{download:"Download PDF",sendToPhone:"Send PDF to phone",sendToMail:"Send a copy via E-mail"})},230:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","EmailInput",{title:"Direcci\xf3n de E-mail",placeholder:"correo@servidor.com",error:"Se necesita un E-mail v\xe1lido",send:"Enviar"}),n.a.addResources("en","EmailInput",{title:"E-mail address",placeholder:"mail@server.com",error:"Enter a valid E-mail address",send:"Send"})},231:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","DisplayInvoice",{error:"Ocurri\xf3 un error"}),n.a.addResources("en","DisplayInvoice",{error:"There was an error"})},232:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","QR",{body:"Escanee el c\xf3digo con el celular para poder firmar en este comprobante",alternative:"Tambi\xe9n puede ingresar ac\xe1 para firmar",finishing:"Al terminar la firma, espere hasta que la otra persona termine",close:"Cerrar"}),n.a.addResources("en","QR",{body:"Scan this code with your phone to sign the invoice",alternative:"You can also enter with this URL",finishing:"When finished, please wait until the other person finishes",close:"Close"})},233:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","GenerateInvoice",{signatureNeeded:"Se necesita la firma para continuar",verifyForm:"Por favor, verifique el formulario y reintente",errorCreatingInvoice:"Ocurri\xf3 un error creando el comprobante. Por favor, reintente",phoneConnected:"Tel\xe9fono conectado",markAsPending:"Marcar para firmar luego",QR:"Mostrar c\xf3digo QR",cancel:"Cancelar",save:"Guardar",transactionNumber:"Numero de transacci\xf3n",loadingText:"Cargando comprobante"}),n.a.addResources("en","GenerateInvoice",{signatureNeeded:"The signature is required to continue",verifyForm:"Please verify the form before continuing",errorCreatingInvoice:"There was an error creating the invoice. Please, retry",phoneConnected:"Phone connected",markAsPending:"Mark as pending",QR:"Show QR code",cancel:"Cancel",save:"Save",transactionNumber:"Transaction number",loadingText:"Loading invoice data"}),n.a.addResources("es","GIError",{date:"La fecha es necesaria"}),n.a.addResources("es","GIError",{date:"The date is required"}),n.a.addResources("es","Radio",{cash:"Efectivo",check:"Cheque",creditcard:"Tarjeta de cr\xe9dito",transfer:"Transferencia"}),n.a.addResources("en","Radio",{cash:"Cash",check:"Check",creditcard:"Credit card",transfer:"Bank Transfer"})},234:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Home",{title:"Basta de usar papel para tus comprobantes",body:"\xa1Ahora pod\xe9s hacer todo digital! Cre\xe1, guard\xe1, envi\xe1 comprobantes desde tu casa sin necesidad de contacto f\xedsico.",startNow:"\xa1Comenz\xe1 ahora!",currentTime:"Hora actual"}),n.a.addResources("en","Home",{title:"Stop using paper for your invoices",body:"\xa1Now you can do everything digitally! Create, save and send invoices from your house without the need of contact.",startNow:"\xa1Start now!",currentTime:"Current time"})},235:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Login",{verifyData:"Por favor, verifique los datos antes de continuar",error:"Ocurri\xf3 un error. Por favor, reintente",email:"Direcci\xf3n de E-mail",emailValidation:"Por favor, ingrese un E-mail v\xe1lido",password:"Contrase\xf1a",passwordValidation:"Por favor, ingrese su contrase\xf1a",login:"Iniciar sesi\xf3n"}),n.a.addResources("en","Login",{verifyData:"Please, verify the form before continuing",error:"There was an error. Please, retry",email:"E-mail address",emailValidation:"Please, enter a valid E-mail",password:"Password",passwordValidation:"Please, enter your password",login:"Log in"})},236:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Logout",{title:"Qu\xe9 l\xe1stima verte partir",body:"\xa1Ojal\xe1 podamos volverte a ver pronto!",goBack:"Volver a la p\xe1gina principal",wentGreat:"\xa1Sali\xf3 todo perfecto!",changedEmailBody:"Ahora te va a llegar un correo a la nueva direcci\xf3n. Confirm\xe1 tu mail para volver a ingresar",changedPasswordBody:"\xa1Ahora pod\xe9s ingresar con tu nueva contrase\xf1a!"}),n.a.addResources("en","Logout",{title:"It's sad to see you go",body:"We wish to see you soon again!",goBack:"Go back home",wentGreat:"Everything went great!",changedEmailBody:"A confirmation email was sent to the new address. Go and confirm it in order to log back in",changedPasswordBody:"Now you can log back in with your new password!"})},237:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","ProfilePage",{resetCounter:"Reiniciar contador",confirmResetCounter:"\xbfEst\xe1s seguro de reiniciar el contador?",logoTitle:"Logo empresarial",logoDescription:"Esta es la im\xe1gen que se imprimir\xe1 autom\xe1ticamente en todos los comprobantes",change:"Cambiar",name:"Nombre",email:"Direcci\xf3n de correo",submit:"Guardar cambios",getError:"Ocurri\xf3 un error trayendo sus datos, por favor reintente",saveSuccess:"Los datos se guardaron correctamente",counterReseted:"Contador reiniciado",emailConfirmationAlert:"Al cambiar el email, deber\xe1 confirmar la nueva direcci\xf3n.",confirmEmailChange:"Al cambiar el email, ser\xe1 deslogueado y deber\xe1 confirmar el nuevo email para poder volver a ingresar. \xbfSeguro que desea continar?"}),n.a.addResources("en","ProfilePage",{resetCounter:"Reset counter",confirmResetCounter:"Reset counter back to 0?",logoTitle:"Enterprise logo",logoDescription:"This is the image that will be automatically printed on every bill",change:"Change",name:"Name",email:"E-mail address",submit:"Save changes",getError:"There was an error fetching your data. Please retry",saveSuccess:"Profile updated!",counterReseted:"Counter resetted",emailConfirmationAlert:"When changing email address, you must confirm the new one.",confirmEmailChange:"After the email change is done, you will be logged out and you must confirm the new address in order to log back in. Are you sure to continue?"})},238:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","DownloadModal",{title:"\xa1Comprobante listo!",body:"Su comprobante ha sido generado con \xe9xito. \xbfDesea descargar una copia?",ignore:"Ignorar",download:"Descargar comprobante"}),n.a.addResources("en","DownloadModal",{title:"Invoice ready!",body:"Your invoice is ready! Wish to download a copy?",ignore:"Ignore",download:"Download"})},239:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Signature",{confirm:"\xbfConfirma el env\xedo de la firma a",success:"Se ha firmado correctamente. Ya puede salir de la App",greeting:"\xa1Hola!",received:"Recibi\xf3 esta boleta de",concept:"con el concepto de",amount:"por el momnto de",sign:"Firme en el campo en blanco para continuar",horizontal:"Coloque el tel\xe9fono de forma horizontal para mejor resultado",reset:"Reiniciar firma",send:"Enviar firma",alert:"\xa1No cierre esta p\xe1gina!",alertBody:"Cuando se genere el comprobante, aparecer\xe1 un bot\xf3n para descargar una copia"}),n.a.addResources("en","Signature",{confirm:"Do you really want to send this signature to",success:"Invoice signed correctly. You can now close this window",greeting:"Hello!",received:"You received this invoice from",concept:"with the concept of",amount:"by the amount of",sign:"Sign in the white letterbox",horizontal:"For a better result, turn your phone in landscape mode",reset:"Reset signature",send:"Send",alert:"Don't close this window!",alertBody:"When the invoice is completed, there will be a button to download a copy"})},240:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","thankYouScreen",{title:"\xa1Much\xedsimas gracias!",subtitle:"Ya pod\xe9s cerrar esta ventana. Pero si quer\xe9s, pod\xe9s tener una copia.",copy:"\xa1Quiero una copia!"}),n.a.addResources("en","thankYouScreen",{title:"Thank you!",subtitle:"You can close this window now. But if you want, you also have a copy",copy:"I want a copy!"})},241:function(e,a,t){"use strict";t.r(a);var n=t(2);n.a.addResources("es","Signup",{verifyForm:"Por favor, verifique los datos antes de continuar",error:"Ocurri\xf3 un error. Reintente, por favor.",title:"\xa1Registrese para obtener m\xe1s beneficios!",body:"Guardar comprobantes, marcar para firmarlos luego y envie por mail! Todos estos beneficios y m\xe1s siendo miembro premium.",name:"Nombre",nameValidation:"El nombre es requerido",email:"Direcci\xf3n de E-mail",emailValidation:"La direcci\xf3n de E-mail es requerida",password:"Contrase\xf1a",passwordValidation:"La contrase\xf1a es requerida",passwordConfirmation:"Repita la contrase\xf1a",passwordConfirmationValidation:"Es necesario que repita la contrase\xf1a correctamente",save:"Guardar",invalidToken:"Por favor, verifique el Captcha antes de continuar",confirm:"Por favor, verifique su e-mail para continuar"}),n.a.addResources("en","Signup",{verifyForm:"Please, verify the data before continuing",error:"There was an error. Please, retry",title:"Register in order to get more benefits!",body:"Save benefits, mark them as pending and send them via e-mail! All of this and more benefits by becoming a premium member.",name:"Name",nameValidation:"The name is required",email:"E-mail address",emailValidation:"E-mail address is required",password:"Password",passwordValidation:"Password is required",passwordConfirmation:"Repeat password",passwordConfirmationValidation:"Is necessary that both passwords are the same",save:"Save",invalidToken:"Please, verify the Captcha before continuing",confirm:"Please, verify your e-mail to continue"})},279:function(e,a,t){},280:function(e,a,t){},281:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(27),s=t.n(c),o=t(15),i=t(12),d=t.n(i),l=t(13),u=t(2),j=t(29),m=t.n(j),b=t(1),h=Object(n.createContext)({language:localStorage.getItem("i18nextLng"),setLanguage:function(){}});function g(e){var a=e.children,t=Object(n.useState)(localStorage.getItem("i18nextLng")),r=Object(l.a)(t,2),c=r[0],s=r[1];return u.a.on("languageChanged",(function(e){m.a.locale(e)})),Object(b.jsx)(h.Provider,{value:{language:c,setLanguage:function(e){u.a.changeLanguage(e||"es"),s(e)}},children:a})}var p={zIndex:998,top:"56px",colors:{error:{color:"#FFFFFF",backgroundColor:"#ff7851"},success:{color:"#FFFFFF",backgroundColor:"#56cc9d"}}},O=t(123),f=t.n(O),x=t(159),v=Object(n.createContext)({generateId:function(){return""},currentId:""});function y(e){var a=e.children,t=Object(n.useState)(""),r=Object(l.a)(t,1)[0];return Object(b.jsx)(v.Provider,{value:{generateId:function(){return Object(x.v4)()},currentId:r},children:a})}var w=t(14),N=t(16),C=t.n(N),I=t(18),S="https://recibapp.herokuapp.com/",k="https://reciba.app/",P="be3fd67b-1a61-4936-b57f-600e3765988f",A=function(){return{headers:{auth:localStorage.getItem("bill-token")}}},L=Object(n.createContext)({}),R=function(e){var a=e.children,t=Object(I.g)(),r=localStorage.getItem("bill-token"),c=Object(n.useState)({isLoggedIn:!1,level:9,token:"",name:"",id:""}),s=Object(l.a)(c,2),o=s[0],d=s[1];return r&&!o.isLoggedIn&&C.a.post("".concat(S,"api/user/loggedInUser"),{storedToken:r},A()).then((function(e){localStorage.setItem("bill-token",e.data.data.token),d({isLoggedIn:!0,level:9,token:e.data.data.token,name:e.data.data.name,id:e.data.data._id})})).catch((function(e){localStorage.removeItem("bill-token");var a=e.response?e.response.data.message:e.message;i.notify.show(a,"error"),d({isLoggedIn:!1,level:9,token:"",name:"",id:""}),t.push("/")})),Object(b.jsx)(L.Provider,{value:Object(w.a)(Object(w.a)({},o),{},{setUserData:d}),children:a})},D=t(305),T=t(289),E=t(161),F=t(304),q=t(10),B=t(11);function M(){return Object(b.jsxs)(T.a,{className:"mr-auto",children:[Object(b.jsxs)(o.c,{className:"text-light mr-3 text-decoration-none",to:"/",children:[Object(b.jsx)(B.a,{icon:q.i})," ",u.a.t("LoggedInOpts:home")]}),Object(b.jsxs)(o.c,{className:"text-light mr-3 text-decoration-none",to:"/invoice/generate",children:[Object(b.jsx)(B.a,{icon:q.o})," ",u.a.t("LoggedInOpts:newInvoice")]}),Object(b.jsxs)(o.c,{className:"text-light mr-3 text-decoration-none",to:"/dashboard",children:[Object(b.jsx)(B.a,{icon:q.c})," ",u.a.t("LoggedInOpts:dashboard")]})]})}function V(){return Object(b.jsx)(T.a,{className:"mr-auto",children:Object(b.jsxs)(o.c,{className:"text-light mr-3 text-decoration-none",to:"/",children:[Object(b.jsx)(B.a,{icon:q.i})," ",u.a.t("LoggedInOpts:home")]})})}function G(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(o.c,{to:"/profile",className:"text-decoration-none",children:Object(b.jsxs)(F.a.Item,{as:"div",className:"text-dark",children:[Object(b.jsx)(B.a,{icon:q.z,className:"mr-1"})," ",u.a.t("LoggedInOpts:profile")]})}),Object(b.jsx)(o.c,{to:"/changePassword",className:"text-decoration-none",children:Object(b.jsxs)(F.a.Item,{as:"div",className:"text-dark",children:[Object(b.jsx)(B.a,{icon:q.j,className:"mr-1"})," ",u.a.t("LoggedInOpts:changePassword")]})}),Object(b.jsx)(o.c,{to:"/logout",className:"text-decoration-none",children:Object(b.jsxs)(F.a.Item,{as:"div",className:"text-dark",children:[Object(b.jsx)(B.a,{icon:q.d,className:"mr-1"})," ",u.a.t("LoggedInOpts:closeSession")]})})]})}function Y(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(o.c,{className:"text-decoration-none",to:"/login",children:Object(b.jsxs)(F.a.Item,{as:"div",className:"text-dark",children:[Object(b.jsx)(B.a,{icon:q.y,className:"mr-1"})," ",u.a.t("LoggedOutOpts:login")]})}),Object(b.jsx)(o.c,{className:"text-decoration-none",to:"/signup",children:Object(b.jsxs)(F.a.Item,{as:"div",className:"text-dark",children:[Object(b.jsx)(B.a,{icon:q.A,className:"mr-1"})," ",u.a.t("LoggedOutOpts:signUp")]})})]})}function H(e){var a=e.changeLang,t=Object(n.useContext)(L);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(D.a,{fixed:"top",style:{zIndex:999},bg:"primary",variant:"dark",expand:"lg",children:[Object(b.jsx)(o.c,{to:"/",children:Object(b.jsx)(D.a.Brand,{children:"reciba.app"})}),Object(b.jsx)(D.a.Toggle,{}),Object(b.jsxs)(D.a.Collapse,{children:[t.isLoggedIn?Object(b.jsx)(M,{}):Object(b.jsx)(V,{}),Object(b.jsxs)(T.a,{className:"ml-auto",children:[Object(b.jsxs)("div",{className:"mr-3",children:[Object(b.jsxs)(E.a,{type:"button",onClick:function(){return a("es")},children:[Object(b.jsx)("img",{src:"https://cdn.countryflags.com/thumbs/spain/flag-400.png",alt:"spanish",width:"15"})," ","ES"]}),Object(b.jsxs)(E.a,{type:"button",onClick:function(){return a("en")},children:[Object(b.jsx)("img",{src:"https://www.countryflags.com/wp-content/uploads/united-kingdom-flag-png-large.png",alt:"english",height:"10"})," ","EN"]})]}),Object(b.jsx)(F.a,{title:"".concat(u.a.t("NavBar:actualUser"),": ").concat(t.isLoggedIn?t.name:u.a.t("NavBar:guest")),id:"collasible-nav-dropdown",children:t.isLoggedIn?Object(b.jsx)(G,{}):Object(b.jsx)(Y,{})})]})]})]}),Object(b.jsx)("div",{style:{height:35}})]})}t(140);var U=t(174),z=function(e){var a=e.render,t=Object(U.a)(e,["render"]),r=Object(n.useContext)(L);return Object(b.jsx)(I.b,Object(w.a)(Object(w.a)({},t),{},{render:function(e){return r.isLoggedIn||localStorage.getItem("bill-token")?Object(b.jsx)(a,Object(w.a)({},e)):Object(b.jsx)(I.a,{to:"/"})}}))},Q=t(30),J=t(290),_=t(291),K=t(166),W=t(301),X=t(292),Z=[{id:1,name:"currentPassword"},{id:2,name:"newPassword"},{id:3,name:"repeatNewPassword"}];function $(e){var a=e.text,t=void 0===a?u.a.t("LoadingScreen:text"):a;return Object(b.jsx)(J.a,{children:Object(b.jsxs)(_.a,{className:"h-100-minus",children:[Object(b.jsx)(K.a,{}),Object(b.jsxs)(K.a,{md:2,className:"my-auto shadow bg-light rounded py-4",children:[Object(b.jsx)("div",{className:"m-auto",style:{width:"4rem",height:"4rem"},children:Object(b.jsx)("div",{className:"spinner"})}),Object(b.jsxs)("h1",{className:"mt-3 lead text-gray text-center",children:[t,"..."]})]}),Object(b.jsx)(K.a,{})]})})}var ee=function(){var e=Object(I.g)(),a=Object(I.i)().token;return Object(n.useEffect)((function(){C.a.post("".concat(S,"api/user/confirm"),{token:a}).then((function(a){a.data.success?(i.notify.show(u.a.t("Confirm:success"),"success"),e.push("/login")):(i.notify.show(u.a.t("Confirm:error"),"error"),e.push("/confirmError/invalid"))})).catch((function(){i.notify.show(u.a.t("Confirm:error"),"error"),e.push("/confirmError/invalid")}))}),[a,e]),Object(b.jsx)($,{text:u.a.t("Confirm:text")})};var ae=function(){var e=Object(I.g)(),a=Object(I.i)().errorType;return Object(b.jsx)(J.a,{children:Object(b.jsxs)(_.a,{className:"h-100-minus d-flex align-items-center justify-content-center",children:[Object(b.jsxs)(K.a,{className:"text-center bg-white shadow rounded p-5",children:[Object(b.jsx)("h1",{className:"display-4 mb-5",children:"\xa1Hey!"}),Object(b.jsxs)("p",{className:"lead",children:["invalid"===a?u.a.t("ConfirmError:bigInvalidText"):u.a.t("ConfirmError:bigNoValidatedText"),Object(b.jsx)("span",{role:"img","aria-labelledby":"thunk",children:"\ud83e\udd14"})]}),Object(b.jsxs)("small",{children:["invalid"===a?u.a.t("ConfirmError:smallInvalidText"):u.a.t("ConfirmError:smallNoValidatedText"),Object(b.jsx)("span",{role:"img","aria-labelledby":"party",children:"\ud83c\udf89"})]}),Object(b.jsx)("br",{}),Object(b.jsxs)(E.a,{onClick:function(){return e.push("/login")},variant:"primary",className:"mt-5",children:[u.a.t("ConfirmError:login")," "]})]})," "]})})},te=t(306),ne=t(310),re=["cash","transfer","check","creditcard"];function ce(e){return e.toString().substr(0,10)}function se(e){var a=e.icon,t=e.label,n=e.variant,r=void 0===n?"primary":n,c=e.type,s=void 0===c?"button":c,o=e.disabled,i=e.className,d=void 0===i?"":i,l=e.onClick;return Object(b.jsxs)(E.a,{className:d,disabled:o,variant:r,type:s,onClick:l,children:[Object(b.jsx)(B.a,{icon:a,className:"mr-2"})," ",t]})}function oe(e){var a=e.submitFilter,t=e.isLoading,r=e.setIsLoading,c=Object(n.useState)({from:"",to:"",tags:"",type:""}),s=Object(l.a)(c,2),o=s[0],i=s[1],d=function(e){var a=e.target,t=a.name,n=a.value;i(Object(w.a)(Object(w.a)({},o),{},Object(Q.a)({},t,n)))};return Object(b.jsx)(K.a,{className:"bg-white rounded shadow p-3 mb-3",children:Object(b.jsx)(te.a,{children:Object(b.jsxs)(ne.a,{children:[Object(b.jsxs)(te.a.Toggle,{as:ne.a.Header,eventKey:"0",children:[u.a.t("Filter:filter")," ",o.from||o.to?Object(b.jsx)("small",{className:"text-muted border rounded p-1",children:"".concat(o.from?"".concat(u.a.t("Filter:from"),": ").concat(m()(ce(o.from)).format("L")):""," ").concat(o.to?"".concat(u.a.t("Filter:to"),": ").concat(m()(ce(o.to)).format("L")):"")}):Object(b.jsx)("small",{className:"text-muted border rounded p-1",children:"".concat(u.a.t("Filter:title")," ").concat(Intl.DateTimeFormat(navigator.language,{month:"long"}).format(new Date))})]}),Object(b.jsx)(te.a.Collapse,{eventKey:"0",children:Object(b.jsx)(ne.a.Body,{children:Object(b.jsxs)(W.a,{onSubmit:function(e){e.preventDefault(),r(!0),a({from:o.from?m()(o.from).startOf("day").format("YYYY-MM-DD"):"undefined",to:o.to?m()(o.to).endOf("day").format("YYYY-MM-DD"):"undefined",tags:o.tags,type:o.type})},children:[Object(b.jsxs)(_.a,{children:[Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Filter:tag")}),Object(b.jsx)(W.a.Control,{name:"tags",value:o.tags,onChange:d,type:"text"})]})}),Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Filter:from")}),Object(b.jsx)(W.a.Control,{type:"date",onChange:d,name:"from",value:o.from})]})}),Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Filter:to")}),Object(b.jsx)(W.a.Control,{type:"date",onChange:d,name:"to",value:o.to})]})}),Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Filter:payment")}),Object(b.jsxs)(W.a.Control,{onChange:d,name:"type",value:o.type,as:"select",children:[Object(b.jsx)("option",{value:"",children:u.a.t("Filter:all")}),re.map((function(e){return Object(b.jsx)("option",{value:e,children:u.a.t("Radio:".concat(e))},Math.random())}))]})]})})]}),Object(b.jsx)(_.a,{children:Object(b.jsxs)(K.a,{className:"d-flex justify-content-end w-100",children:[Object(b.jsx)(se,{label:u.a.t("Filter:search"),icon:q.t,disabled:t,className:"mr-3",variant:"primary",type:"submit"}),Object(b.jsx)(se,{label:u.a.t("Filter:cleanSearch"),icon:q.w,disabled:t,variant:"danger",onClick:function(){r(!0),a({}),i({from:"",to:"",tags:"",type:""})}})]})})]})})})]})})})}var ie=t(106),de=t(311),le=t(293),ue=t(307),je=t(294),me=t(167),be=t(300);function he(e){var a=e.show,t=e.handleClose,r=e.invoiceId,c=e.prevTags,s=e.refreshData,o=Object(n.useState)(""),d=Object(l.a)(o,2),j=d[0],m=d[1];Object(n.useEffect)((function(){c!==[]&&m(c?c.toString():"")}),[r]);return Object(b.jsx)(be.a,{show:a,onHide:t,children:Object(b.jsxs)(W.a,{onSubmit:function(e){e.preventDefault();var a,n=j.split(","),c=[],o=Object(me.a)(n);try{for(o.s();!(a=o.n()).done;){var d=a.value;c.push(d.trim())}}catch(l){o.e(l)}finally{o.f()}!function(e){if(""===r)throw Error("No hay invoice id especificado");C.a.put("".concat(S,"api/invoice/edit/").concat(r),{tags:e},A()).then((function(e){e.data,i.notify.show("Datos guardados","success"),s(),t()})).catch((function(e){i.notify.show(e.message,"error")}))}(c)},children:[Object(b.jsx)(be.a.Header,{closeButton:!0,children:Object(b.jsx)(be.a.Title,{children:u.a.t("Tags:title")})}),Object(b.jsx)(be.a.Body,{children:Object(b.jsxs)(W.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Tags:label")}),Object(b.jsx)(W.a.Control,{type:"text",value:j,onChange:function(e){return m(e.target.value)},placeholder:u.a.t("Tags:placeholder")})]})}),Object(b.jsxs)(be.a.Footer,{children:[Object(b.jsxs)(E.a,{variant:"secondary",onClick:t,children:[Object(b.jsx)(B.a,{icon:q.w})," ",u.a.t("Tags:close")]}),Object(b.jsxs)(E.a,{variant:"primary",type:"submit",children:[Object(b.jsx)(B.a,{icon:q.s})," ",u.a.t("Tags:save")]})]})]})})}var ge=function(e){var a=e.resetData,t=e.show,r=e.data,c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],d=s[1],j=Object(n.useState)(!1),m=Object(l.a)(j,2),h=m[0],g=m[1];return Object(b.jsxs)(be.a,{size:"xl",show:t,onHide:function(){a(),d("")},children:[Object(b.jsx)(be.a.Header,{closeButton:!0,children:Object(b.jsx)(be.a.Title,{children:u.a.t("Mail:title")})}),Object(b.jsxs)(W.a,{onSubmit:function(e){e.preventDefault(),g(!0),""===o?(i.notify.show(u.a.t("Mail:noValue"),"error"),g(!1)):C.a.post("".concat(S,"api/mail/send/signaturePetition/"),{invoiceId:r.invoice,from:r.from,to:o}).then((function(e){e.data.success?(i.notify.show(e.data.message,"success"),g(!1),d(""),a()):(i.notify.show(e.data.message,"warning"),g(!1))})).catch((function(){i.notify.show(u.a.t("Mail:cantSend"),"error"),g(!1)}))},children:[Object(b.jsx)(be.a.Body,{children:Object(b.jsxs)(W.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsxs)(W.a.Label,{children:[u.a.t("Mail:address"),":"]}),Object(b.jsx)(W.a.Control,{type:"email",value:o,onChange:function(e){return d(e.target.value)}}),Object(b.jsxs)(W.a.Text,{className:"d-none d-sm-block text-muted",children:[u.a.t("Mail:linkText"),":"," ",Object(b.jsx)("a",{href:"".concat(k,"#/offlinesignature/").concat(r.invoice),children:"".concat(k,"#/offlinesignature/").concat(r.invoice)})]})]})}),Object(b.jsxs)(be.a.Footer,{children:[Object(b.jsxs)(E.a,{disabled:h,onClick:function(){a(),d("")},variant:"secondary",children:[Object(b.jsx)(B.a,{icon:q.w})," ",u.a.t("Mail:close")]}),Object(b.jsxs)(E.a,{disabled:h,type:"submit",variant:"primary",children:[Object(b.jsx)(B.a,{icon:q.l})," ",h?u.a.t("Mail:loading"):u.a.t("Mail:send")]})]})]})]})};function pe(e){var a=e.completed,t=e.pending,r=e.deleteBill,c=e.refreshData,s=e.isLoading,o=Object(I.g)(),i=Object(n.useState)({invoice:"",from:""}),d=Object(l.a)(i,2),j=d[0],h=d[1],g=Object(n.useState)(!1),p=Object(l.a)(g,2),O=p[0],f=p[1],x=Object(n.useState)({id:"",prevTags:[]}),v=Object(l.a)(x,2),y=v[0],w=v[1],N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];w({id:e,prevTags:a}),f((function(e){return!e}))};return s?Object(b.jsx)($,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ge,{resetData:function(){h({invoice:"",from:""}),c({from:"",to:"",tags:""})},show:""!==j.invoice&&""!==j.from,data:j}),Object(b.jsx)(he,{show:O,handleClose:function(){return N()},invoiceId:y.id,prevTags:y.prevTags,refreshData:function(){return c({})}}),Object(b.jsxs)(K.a,{className:"bg-white rounded shadow p-3 mb-3",children:[Object(b.jsx)("small",{className:"text-muted",children:"".concat(u.a.t("Invoices:pending")," - ").concat(t.length)}),Object(b.jsx)(de.a,{children:t.map((function(e){var a,t,n;return Object(b.jsx)(de.a.Item,{children:Object(b.jsxs)(_.a,{children:[Object(b.jsx)(K.a,{md:"2",children:m()(ce(e.date)).format("L")}),Object(b.jsxs)(K.a,{children:[e.from," ",Object(b.jsxs)("small",{children:["(",e.currency," $",e.amount," -"," ",u.a.t("Radio:".concat(e.payment)),")"]}),null===(a=e.tags)||void 0===a?void 0:a.map((function(e){return Object(b.jsx)(le.a,{variant:"info",className:"ml-1",children:e},Math.random())}))," ",(null===(t=e.alreadySent)||void 0===t?void 0:t.isAlreadySent)?Object(b.jsx)(ue.a,{placement:"top",overlay:Object(b.jsx)(je.a,{id:"mail-already-sent",children:"".concat(u.a.t("Invoices:mail"),": ").concat(null===(n=e.alreadySent)||void 0===n?void 0:n.emailAddress)}),children:Object(b.jsx)(B.a,{icon:ie.a,style:{color:"#6DB65B"}})}):null]}),Object(b.jsxs)(K.a,{md:"2",className:"text-right text-primary",children:[Object(b.jsx)(B.a,{icon:q.v,className:"pointer",onClick:function(){return N(e._id,e.tags)}}),Object(b.jsx)(B.a,{onClick:function(){return o.push("/invoice/edit/".concat(e._id,"/"))},className:"pointer mx-3",icon:q.m}),Object(b.jsx)(B.a,{onClick:function(){return r(e._id)},className:"pointer mr-3",icon:q.x}),Object(b.jsx)(B.a,{className:"pointer",onClick:function(){return h({invoice:e._id?e._id:"",from:e.from})},icon:q.l})]})]})},Math.random())}))}),Object(b.jsx)("hr",{}),Object(b.jsx)("small",{className:"text-muted",children:"".concat(u.a.t("Invoices:completed")," - ").concat(a.length)}),Object(b.jsx)(de.a,{children:a.map((function(e){var a;return Object(b.jsxs)(de.a.Item,{children:[Object(b.jsxs)(_.a,{children:[Object(b.jsx)(K.a,{md:"2",children:m()(ce(e.date)).format("L")}),Object(b.jsxs)(K.a,{children:[e.from," ",Object(b.jsxs)("small",{children:["(",e.currency," $",e.amount," -"," ",u.a.t("Radio:".concat(e.payment)),")"]}),null===(a=e.tags)||void 0===a?void 0:a.map((function(e){return Object(b.jsx)(le.a,{variant:"info",className:"ml-1",children:e},Math.random())}))," "]}),Object(b.jsxs)(K.a,{md:"2",className:"text-right text-primary",children:[Object(b.jsx)(B.a,{className:"pointer",icon:q.v,onClick:function(){return N(e._id,e.tags)}}),Object(b.jsx)(B.a,{onClick:function(){return o.push("/invoice/edit/".concat(e._id,"/"))},className:"ml-3 pointer",icon:q.m}),Object(b.jsx)(B.a,{onClick:function(){return o.push("/invoice/display/".concat(e._id,"/no"))},icon:q.p,className:"mx-3 pointer"}),Object(b.jsx)(B.a,{onClick:function(){return r(e._id)},className:"pointer",icon:q.x})]})]})," "]},Math.random())}))})]})]})}var Oe,fe=t(48),xe=t.n(fe),ve=t(66),ye=t(173),we=t(302),Ne=t(308),Ce=t(75),Ie=t.n(Ce);function Se(e){var a=e.sendEmail,t=e.setRecipient,n=e.recipient,r=e.validated;return Object(b.jsx)(K.a,{className:"px-5 py-3 bg-white shadow rounded",children:Object(b.jsxs)(W.a,{noValidate:!0,onSubmit:a,validated:r,children:[Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("EmailInput:title")}),Object(b.jsx)(W.a.Control,{type:"email",value:n,onChange:t,placeholder:u.a.t("EmailInput:placeholder"),required:!0}),Object(b.jsx)(W.a.Control.Feedback,{type:"invalid",children:u.a.t("EmailInput:error")})]}),Object(b.jsxs)(E.a,{variant:"primary",type:"submit",children:[Object(b.jsx)(B.a,{icon:q.l})," ",u.a.t("EmailInput:send")]})]})})}function ke(e){var a=e.exportPDFToFile,t=e.transformPDFToBase64,n=e.toggleEmailInput,r=e.hasSocketId;return Object(b.jsxs)(K.a,{className:"p-3 bg-light text-center shadow rounded",children:[Object(b.jsxs)(E.a,{className:"mx-2",onClick:a,children:[Object(b.jsx)(B.a,{icon:q.h})," ",u.a.t("Buttons:download")]}),!r&&Object(b.jsxs)(E.a,{className:"mx-2",onClick:t,children:[Object(b.jsx)(B.a,{icon:q.n})," ",u.a.t("Buttons:sendToPhone")]}),Object(b.jsxs)(E.a,{onClick:n,className:"mx-2",children:[Object(b.jsx)(B.a,{icon:q.f})," ",u.a.t("Buttons:sendToMail")]})]})}function Pe(e){var a=e.isOriginal,t=void 0!==a&&a,n=e.data;return Object(b.jsxs)(_.a,{className:"pdf-font my-5 py-5 bg-white border border-black",children:[Object(b.jsxs)(K.a,{md:1,className:"d-flex justify-content-center align-items-center flex-column",children:[n.logo?Object(b.jsx)("img",{src:n.logo,alt:"RollingCode School",height:"50"}):null,Object(b.jsx)("p",{className:"text-muted p-0 mt-auto text-center",style:{},children:t?u.a.t("Invoice:originalInvoice"):u.a.t("Invoice:duplicateInvoice")})]}),Object(b.jsxs)(K.a,{className:"px-5",children:[Object(b.jsxs)(_.a,{className:"border-bottom mt-3 pb-3",children:[Object(b.jsxs)(K.a,{children:[Object(b.jsxs)("p",{className:"text-monospace",children:[u.a.t("Invoice:receiptNumber"),": ",n.invoiceNumber]}),Object(b.jsx)("small",{className:"text-monospace",children:n.transactionNumber?"".concat(u.a.t("GenerateInvoice:transactionNumber")," ").concat(n.transactionNumber):null})]}),Object(b.jsx)(K.a,{md:"2"}),Object(b.jsx)(K.a,{className:"text-center",children:Object(b.jsxs)("p",{className:"my-0",children:[Object(b.jsxs)("strong",{children:[u.a.t("Invoice:date"),": "]}),m()(n.date).format("MMMM Do [del] YYYY")]})})]}),Object(b.jsx)(_.a,{children:Object(b.jsxs)(K.a,{children:[Object(b.jsxs)(_.a,{className:"bg-light my-3",children:[Object(b.jsx)(K.a,{md:3,children:Object(b.jsx)("p",{className:"text-center my-2",children:Object(b.jsx)("strong",{children:u.a.t("Invoice:received")})})}),Object(b.jsx)(K.a,{children:Object(b.jsxs)("p",{className:"my-2",children:[Object(b.jsxs)("strong",{children:[u.a.t("Invoice:from"),": "]}),n.from]})})]}),Object(b.jsx)(_.a,{className:"bg-light my-3",children:Object(b.jsx)(K.a,{children:Object(b.jsxs)("p",{className:"my-2",children:[Object(b.jsxs)("strong",{children:[u.a.t("Invoice:quantity"),": "]}),n.amountText]})})}),Object(b.jsx)(_.a,{className:"bg-light my-3",children:Object(b.jsx)(K.a,{children:Object(b.jsxs)("p",{className:"my-2",children:[Object(b.jsxs)("strong",{children:[u.a.t("Invoice:inConceptOf"),": "]})," ",n.concept]})})})]})}),Object(b.jsxs)(_.a,{children:[Object(b.jsx)(K.a,{md:2,className:"bg-light",children:Object(b.jsxs)("p",{className:"my-2",children:[Object(b.jsx)("strong",{children:"Son: "})," ",n.currency," $",n.amount]})}),Object(b.jsx)(K.a,{}),Object(b.jsx)(K.a,{md:6,className:"bg-light",children:Object(b.jsxs)("p",{className:"my-2",children:[Object(b.jsxs)("strong",{children:[u.a.t("Invoice:receiptBy"),": "]}),Object(b.jsx)("img",{src:n.sign,height:"120",alt:"signature"})]})})]})]})]})}var Ae,Le,Re=t(298),De=t(170),Te=t.n(De),Ee=t(171),Fe=t.n(Ee);function qe(e){var a=e.show,t=void 0===a||a,n=e.onHide,r=void 0===n?function(){return!t}:n,c=e.currentId,s=void 0===c?"Error":c;return Object(b.jsx)(be.a,{size:"xl",show:t,onHide:r,children:Object(b.jsxs)(be.a.Body,{children:[Object(b.jsx)(_.a,{children:Object(b.jsx)(K.a,{children:Object(b.jsx)("p",{className:"lead text-center",children:u.a.t("QR:body")})})}),Object(b.jsxs)(_.a,{className:"my-5 d-flex align-items-center justify-content-center",children:[Object(b.jsx)(K.a,{}),Object(b.jsx)(K.a,{className:"".concat(Fe.a.qrcode," w-auto qrcode bg-white shadow rounded p-3 text-center"),children:Object(b.jsx)(Te.a,{size:200,value:"".concat(k,"#/signature/").concat(s)})}),Object(b.jsx)(K.a,{})]}),Object(b.jsx)(_.a,{children:Object(b.jsx)(K.a,{className:"text-center",children:Object(b.jsxs)("small",{children:[u.a.t("QR:alternative")," ",Object(b.jsx)("a",{target:"_blank",rel:"noreferrer",href:"".concat(k,"#/signature/").concat(s),children:"".concat(k,"#/signature/").concat(s)})]})})}),Object(b.jsx)(_.a,{children:Object(b.jsxs)(K.a,{className:"text-center",children:[Object(b.jsxs)("p",{className:"lead",children:[u.a.t("QR:finishing")," "]}),Object(b.jsxs)(E.a,{onClick:r,children:[Object(b.jsx)(B.a,{icon:q.w})," ",u.a.t("QR:close")]})]})})]})})}function Be(){var e=(new Date).toISOString().substr(0,10),a=Object(I.i)().id,t=Object(n.useContext)(v).generateId,r=Object(n.useContext)(L).isLoggedIn,c=Object(n.useState)({invoiceNumber:1,date:e,from:"",amountText:"",amount:0,concept:"",currency:"ARS",pending:!1,sign:"",payment:"cash",transactionNumber:void 0}),s=Object(l.a)(c,2),o=s[0],d=s[1],j=Object(n.useState)(!1),m=Object(l.a)(j,2),h=m[0],g=m[1],p=Object(n.useState)(!1),O=Object(l.a)(p,2),f=O[0],x=O[1],y=Object(n.useState)(!0),N=Object(l.a)(y,2),k=N[0],P=N[1],R=Object(I.g)(),D=function(e){var a=e.target,t=a.name,n=a.value,r=a.type,c=a.checked,s="checkbox"===r?c:n;d(Object(w.a)(Object(w.a)({},o),{},Object(Q.a)({},t,s)))};Object(n.useEffect)((function(){return Ae=Ie()(S),a&&C.a.get("".concat(S,"api/invoice/single/").concat(a)).then((function(e){var a=e.data;P(!1);var t=a.data.date.substr(0,10);d(Object(w.a)(Object(w.a)({},a.data),{},{date:t}))})),Ae.on("close",(function(){x(!1),i.notify.show(u.a.t("GenerateInvoice:phoneConnected"),"success")})),Ae.on("sign",(function(e){d((function(a){return Object(w.a)(Object(w.a)({},a),{},{sign:e,pending:!1})}))})),function(){Ae.disconnect(),Le=""}}),[S]);var T=function(){var e=Object(ve.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Le||(Le=t(),Ae.emit("join",Le)),x((function(e){return!e}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?Object(b.jsx)($,{text:u.a.t("GenerateInvoice:loadingText")}):Object(b.jsxs)(J.a,{className:"h-100-minus",children:[Object(b.jsx)(qe,{currentId:Le,show:f,onHide:function(){x((function(e){return!e}))}}),Object(b.jsx)(_.a,{className:"h-100-minus align-items-center",children:Object(b.jsx)(K.a,{className:"bg-light p-3 shadow rounded",children:Object(b.jsxs)(W.a,{noValidate:!0,validated:h,onSubmit:function(e){e.preventDefault(),e.stopPropagation(),P(!0);var t=e.currentTarget;return o.sign||o.pending?(!1===t.checkValidity()?i.notify.show(u.a.t("GenerateInvoice:verifyForm"),"error"):a?C.a.put("".concat(S,"api/invoice/edit/").concat(a),Object(w.a)(Object(w.a)({},o),{},{pending:""===o.sign}),A()).then((function(e){var a=e.data;a.success&&a.data._id&&R.push(o.pending?"/dashboard":"/invoice/display/".concat(a.data._id,"/").concat(Le)),i.notify.show(a.message,"success"),P(!1)})).catch((function(e){i.notify.show(u.a.t("GenerateInvoice:errorCreatingInvoice"),"error"),P(!1)})):C.a.post("".concat(S,"api/invoice/"),Object(w.a)({},o),A()).then((function(e){var a=e.data;a.id&&R.push(o.pending?"/dashboard":"/invoice/display/".concat(a.id,"/").concat(Le)),i.notify.show(a.message,"success"),P(!1)})).catch((function(e){i.notify.show(u.a.t("GenerateInvoice:errorCreatingInvoice"),"error"),P(!1)})),g(!0),!1):(i.notify.show(u.a.t("GenerateInvoice:signatureNeeded"),"error"),P(!1),null)},children:[Object(b.jsx)(_.a,{children:Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Invoice:date")}),Object(b.jsx)(W.a.Control,{required:!0,name:"date",onChange:D,value:o.date.toString(),type:"date"}),Object(b.jsx)(W.a.Control.Feedback,{type:"invalid",children:u.a.t("GIError:date")})]})})}),Object(b.jsxs)(_.a,{children:[Object(b.jsx)(K.a,{md:"3",children:Object(b.jsx)("p",{className:"text-center",children:u.a.t("Invoice:received")})}),Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Invoice:from")}),Object(b.jsx)(W.a.Control,{required:!0,name:"from",onChange:D,value:o.from,type:"text"})]})})]}),Object(b.jsx)(_.a,{children:Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Invoice:quantity")}),Object(b.jsx)(W.a.Control,{required:!0,name:"amountText",onChange:D,value:o.amountText,type:"text"})]})})}),Object(b.jsx)(_.a,{children:Object(b.jsx)(K.a,{children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Invoice:inConceptOf")}),Object(b.jsx)(W.a.Control,{required:!0,name:"concept",onChange:D,value:o.concept,type:"text"})]})})}),Object(b.jsxs)(_.a,{children:[Object(b.jsx)(K.a,{sm:12,md:3,children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("Invoice:quantity")}),Object(b.jsxs)(Re.a,{children:[Object(b.jsx)(Re.a.Prepend,{children:Object(b.jsx)(Re.a.Text,{children:Object(b.jsxs)("select",{name:"currency",onChange:D,value:o.currency,className:"no-decoration",children:[Object(b.jsx)("option",{children:"ARS"}),Object(b.jsx)("option",{children:"USD"})]})})}),Object(b.jsx)(W.a.Control,{required:!0,name:"amount",onChange:D,value:o.amount,min:1,type:"decimal"})]})]})}),Object(b.jsx)(K.a,{className:"text-right",children:Object(b.jsxs)("p",{className:"lead",children:[u.a.t("Invoice:signature"),":"]})}),Object(b.jsx)(K.a,{children:o.sign?Object(b.jsx)("img",{height:"100",src:o.sign,className:"signature",alt:u.a.t("Invoice:signature")}):null})]}),Object(b.jsxs)(_.a,{className:"d-flex align-items-center justify-content-center",children:[Object(b.jsx)(K.a,{children:Object(b.jsx)("div",{className:"border border-gray p-3",children:re.map((function(e){return Object(b.jsx)(W.a.Check,{className:"mx-3",inline:!0,type:"radio",label:u.a.t("Radio:".concat(e)),checked:o.payment===e,onChange:function(){return d(Object(w.a)(Object(w.a)({},o),{},{payment:e}))}},e)}))})}),Object(b.jsx)(K.a,{md:"5",children:Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{children:u.a.t("GenerateInvoice:transactionNumber")}),Object(b.jsx)(W.a.Control,{name:"transactionNumber",onChange:D,value:o.transactionNumber,type:"text"})]})})]}),Object(b.jsx)(_.a,{children:Object(b.jsxs)(K.a,{className:"d-flex align-items-center justify-content-end flex-column flex-md-row text-md-right text-center",children:[r?Object(b.jsx)("fieldset",{className:"mt-3 mt-md-0 w-100 mx-3 py-1 px-2 border border-gray rounded",children:Object(b.jsxs)("label",{htmlFor:"pending",className:"m-0 p-0",children:[Object(b.jsx)("input",{id:"pending",type:"checkbox",name:"pending",checked:o.pending,onChange:D,className:"mr-1 p-0 m-0"}),u.a.t("GenerateInvoice:markAsPending")]})}):null,Object(b.jsxs)(E.a,{variant:"info",onClick:T,className:"mt-3 mt-md-0 w-100 mx-3",children:[Object(b.jsx)(B.a,{icon:q.q})," ",u.a.t("GenerateInvoice:QR")]}),Object(b.jsxs)(E.a,{disabled:k,variant:"secondary",className:"mt-3 mt-md-0 w-100 mx-3",onClick:function(){R.goBack()},children:[Object(b.jsx)(B.a,{icon:q.w})," ",u.a.t("GenerateInvoice:cancel")]}),Object(b.jsxs)(E.a,{className:"mt-3 mt-md-0 w-100 mx-3",disabled:k,variant:"primary",type:"submit",children:[k?Object(b.jsx)(X.a,{size:"sm",animation:"border"}):Object(b.jsx)(B.a,{icon:q.s})," ",u.a.t("GenerateInvoice:save")]})]})})]})})})]})}var Me=[{id:1,name:"email"},{id:2,name:"password"}];function Ve(e){var a=e.username,t=e.enterprise,n=e.resetCounter;return Object(b.jsxs)(_.a,{className:"mb-5",children:[Object(b.jsxs)(K.a,{className:"d-flex flex-row align-items-center",children:[Object(b.jsx)("h1",{className:"name-title",children:a})," ",t&&Object(b.jsxs)("small",{className:"ml-3",children:["(",t,")"]})]}),Object(b.jsx)(K.a,{className:"text-right",children:Object(b.jsx)(se,{onClick:n,icon:q.r,label:u.a.t("ProfilePage:resetCounter")})})]})}var Ge={email:"Correo inv\xe1lido",text:"Verifique el dato ingresado",number:"Verifique el dato ingresado",password:"La contrase\xf1a es incorrecta"};function Ye(e){var a=e.name,t=e.label,n=e.type,r=void 0===n?"text":n,c=e.placeholder,s=e.subtext,o=e.subtextColor,i=e.value,d=e.onChange,l=e.required,u=void 0!==l&&l;return Object(b.jsxs)(W.a.Group,{controlId:a,children:[Object(b.jsx)(W.a.Label,{children:t}),Object(b.jsx)(W.a.Control,{className:"w-100",type:r,placeholder:c,name:a,value:i,onChange:d,required:u}),Object(b.jsx)(W.a.Text,{className:"text-".concat(null!==o&&void 0!==o?o:"muted"),children:s}),Object(b.jsx)(W.a.Control.Feedback,{type:"invalid",children:Ge[r]})]})}var He=[{name:"name",label:"ProfilePage:name",type:"text",required:!1},{name:"email",label:"ProfilePage:email",type:"email",required:!1}];var Ue=function(e){var a=e.handleChange,t=e.currentData,r=Object(n.useState)(!1),c=Object(l.a)(r,2),s=c[0],o=c[1],i=Object(n.useState)({name:"",email:""}),d=Object(l.a)(i,2),j=d[0],m=d[1],h=function(e){var t=e.target,n=t.value,r=t.name;m(Object(w.a)(Object(w.a)({},j),{},Object(Q.a)({},r,n))),a(Object(Q.a)({},r,n))};return Object(n.useEffect)((function(){m(t)}),[t]),Object(b.jsx)(K.a,{className:"d-flex flex-column align-items-center justify-content-center",children:Object(b.jsx)(W.a,{noValidate:!0,validated:s,onSubmit:function(e){!1===e.currentTarget.checkValidity()&&(e.preventDefault(),e.stopPropagation()),o(!0)},className:"w-75",children:He.map((function(e){return Object(b.jsx)(Ye,{name:e.name,label:u.a.t(e.label),type:e.type,onChange:h,value:j[e.name],required:e.required,subtext:"email"===e.name&&t.email!==t.oldEmail?u.a.t("ProfilePage:emailConfirmationAlert"):"",subtextColor:"danger"},e.name)}))})})},ze=t(299);var Qe=function(e){var a=e.handleLogoChange,t=e.currentLogo,r=Object(n.useState)(""),c=Object(l.a)(r,2),s=c[0],o=c[1],i=function(e){return new Promise((function(a,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return a(n.result)},n.onerror=function(e){return t(e)}}))},d=function(){var e=Object(ve.a)(xe.a.mark((function e(t){var n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:n=e.sent,o(n),a(n);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){o(t)}),[t]),Object(b.jsxs)(K.a,{className:"bg-white rounded shadow p-5 d-flex flex-column align-items-center",children:[Object(b.jsx)(ze.a,{src:s,roundedCircle:!0,height:"200",width:"200"}),Object(b.jsx)("p",{className:"lead mt-3 mb-0",children:u.a.t("ProfilePage:logoTitle")}),Object(b.jsx)("small",{children:u.a.t("ProfilePage:logoDescription")}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"file",className:"form-control-file mt-3",accept:"image/png, image/jpeg",onChange:function(e){return d(e.target.files[0])}})})]})};var Je=function(){var e=Object(I.g)(),a=Object(n.useContext)(L).id,t=Object(n.useState)(""),r=Object(l.a)(t,2),c=r[0],s=r[1],o=Object(n.useState)({lastInvoiceNumber:0,name:"",enterprise:"",email:"",ogPassword:"",newPassword:"",repeatPassword:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAOVBMVEXz9Pa5vsq2u8jN0dnV2N/o6u7w8fTi5OnFydO+ws3f4ee6v8vY2+H29/jy9Pbu7/LJztbCx9HR1ty/NMEIAAACq0lEQVR42u3cYXaqMBBA4cyEgEAi4P4X+34oLSra9IA9E979FtDj7SAJUOocAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAqrQ3Y311iH5fsaktBTYn3d/Y2JljlM/orAR2IsdOHNqPFbY2TqKdXj/Orl/C24/sLHwV0ygiIv2466n0+kNlNFHYiohotfNyWKmIyKm2U9jsffqyU+gopLDMwiGE+sCFjRdV1SkOxyw8X2Rer6cNe2e7hfVJv3ddGg9YeNHlxrIPhyvs9GHvXB+sMJ2eLoDSsQrDwwhF/cFm+HiQikxvP+Prk63RwhSfCtt3i6J/fbK1Wlj9qvCiIjEd9yg9e32zZFotHPLPNOd55VyfotnVYsq9XVZ7fbvxsbviZx6kZ7+Y9toU7e7a/P1x+mI5qP3doRyLuraYlokxY4LrUzRcOPj56knaxmVMcP1XYfkKODW+VVWZqiHlTXBtisbvYgwhhKF22RNcmWLBd6JWJ/g8xXIL64u+eg5zl1huodfXj5riAQrPF333NG0xxVILvb5/YBhLKxzC8+XSD4mpqMLQt2F59hj158e+saDCFFrRacj9Dj5MsYTC0IuIfk9xzAoU7QopTKG93dq/7d3yJiiiVSqjMPTzJ25Dcu6cOUERjUUUzhP8mmLuBIsp/Jrg9Soq+OzAMgqXE7wm/uKvhIoovJ/gLxVQ+DTBwxVummABhRsnWEDhxgmaL9w8QfOFmydovTDlb11KLawopJBCCimk8E8Kbd+nGcJ2Q9F39fNRSKH5wtSZeyvI7/sm8O053MnCCOc/C/7Iu2vexIuyn3z/sLEQ6Orp4O+QOtf0HwrsGyOFrhP9QJ+qmUDnwtju/jp+PwZT/1chdNW+YuMAAAAAAAAAAAAAAAAAAAAAAAAAAACA/9s/LTI30XlcBHoAAAAASUVORK5CYII="}),d=Object(l.a)(o,2),j=d[0],m=d[1];Object(n.useEffect)((function(){a&&C.a.get("".concat(S,"api/user/getUser/").concat(a),A()).then((function(e){var a=e.data;m(a.data),s(a.data.email)})).catch((function(){return i.notify.show(u.a.t("ProfilePage:getError"),"error")}))}),[a]);var h=function(t){C.a.put("".concat(S,"api/user/editProfile/").concat(a),j,A()).then((function(a){i.notify.show(u.a.t("ProfilePage:saveSuccess"),"success"),t?e.push("/logout?type=changedemail"):e.push("/")}))};return Object(b.jsx)(J.a,{className:"h-100-minus mt-5",children:Object(b.jsx)(_.a,{className:"align-items-center",children:Object(b.jsxs)(K.a,{children:[Object(b.jsx)(Ve,{username:j.name,enterprise:j.enterprise,resetCounter:function(){confirm(u.a.t("ProfilePage:confirmResetCounter"))&&C.a.put("".concat(S,"api/user/resetInvoiceCounter/").concat(a),j,A()).then((function(e){i.notify.show(u.a.t("ProfilePage:counterReseted"),"success")}))}}),Object(b.jsxs)(_.a,{children:[Object(b.jsx)(Qe,{handleLogoChange:function(e){m(Object(w.a)(Object(w.a)({},j),{},{logo:e}))},currentLogo:j.logo}),Object(b.jsx)(Ue,{handleChange:function(e){m(Object(w.a)(Object(w.a)({},j),e))},currentData:{name:j.name,email:j.email,oldEmail:c}})]}),Object(b.jsx)(_.a,{className:"my-5",children:Object(b.jsx)(K.a,{className:"w-100 text-center",children:Object(b.jsx)(se,{onClick:function(){j.email!==c?confirm(u.a.t("ProfilePage:confirmEmailChange"))?h(!0):m(Object(w.a)(Object(w.a)({},j),{},{email:c})):h(!1)},label:u.a.t("ProfilePage:submit"),icon:q.s})})})]})})})};function _e(e){var a=e.show,t=e.handleClose,n=e.PDFFile;return Object(b.jsxs)(be.a,{show:a,onHide:t,children:[Object(b.jsx)(be.a.Header,{closeButton:!0,children:Object(b.jsx)(be.a.Title,{children:u.a.t("DownloadModal:title")})}),Object(b.jsxs)(be.a.Body,{children:[u.a.t("DownloadModal:body")," "]}),Object(b.jsxs)(be.a.Footer,{children:[Object(b.jsxs)(E.a,{variant:"secondary",onClick:t,children:[Object(b.jsx)(B.a,{icon:ie.b})," ",u.a.t("DownloadModal:ignore")]}),Object(b.jsx)("a",{download:"Comprobante.pdf",href:n,children:Object(b.jsxs)(E.a,{children:[Object(b.jsx)(B.a,{icon:q.e})," ",u.a.t("DownloadModal:download")]})})]})]})}var Ke,We=t(278);function Xe(){var e=Object(I.g)(),a=Object(n.useRef)(),t=Object(I.i)(),r=t.socketId,c=t.invoiceId,s=Object(n.useState)(!1),o=Object(l.a)(s,2),d=o[0],j=o[1],m=Object(n.useState)(""),h=Object(l.a)(m,2),g=h[0],p=h[1],O=Object(n.useState)({}),f=Object(l.a)(O,2),x=f[0],v=f[1];Object(n.useEffect)((function(){return r?((Ke=Ie()(S)).emit("join",r),Ke.emit("close",!1),Ke.on("pdf",(function(e){p(e),N()}))):c&&C.a.get("".concat(S,"api/invoice/single/").concat(c)).then((function(e){var a=e.data;a.success&&v(a.data)})).catch((function(e){return alert(e.response.data.message)})),function(){r&&Ke.off("pdf")}}),[S]);var y=function(){r&&Ke.emit("sign",a.current.toDataURL())},N=function(){j(!d)};return Object(b.jsxs)(J.a,{className:"h-100-minus mt-5",children:[Object(b.jsx)(_e,{PDFFile:g,show:d,handleClose:N}),Object(b.jsx)(_.a,{className:c?"d-block":"d-none",children:Object(b.jsxs)(K.a,{className:"text-center",children:[Object(b.jsx)("h1",{children:u.a.t("Signature:greeting")}),Object(b.jsxs)("p",{children:[u.a.t("Signature:received")," ",Object(b.jsx)("strong",{children:x.from})," ",u.a.t("Signature:concept")," ",Object(b.jsx)("strong",{children:x.concept})," ",u.a.t("Signature:amount")," ",Object(b.jsxs)("strong",{children:[x.currency," ",x.amount]})]}),Object(b.jsx)("hr",{})]})}),Object(b.jsx)(_.a,{children:Object(b.jsxs)(K.a,{className:"text-center",children:[Object(b.jsx)("p",{className:"lead m-0",children:u.a.t("Signature:sign")}),Object(b.jsx)("small",{className:"text-muted",children:u.a.t("Signature:horizontal")})]})}),Object(b.jsx)(_.a,{className:"my-5",children:Object(b.jsx)(K.a,{onTouchEnd:y,onMouseUp:y,className:"bg-white shadow rounded",children:Object(b.jsx)(We,{ref:a})})}),Object(b.jsxs)(_.a,{children:[Object(b.jsx)(K.a,{children:Object(b.jsxs)(E.a,{className:"w-100",variant:"danger",onClick:function(){a.current.clear(),y()},children:[Object(b.jsx)(B.a,{icon:q.w})," ",u.a.t("Signature:reset")]})}),Object(b.jsx)(K.a,{className:c?"d-block":"d-none",children:Object(b.jsxs)(E.a,{className:"w-100",variant:"success",onClick:function(){window.confirm("".concat(u.a.t("Signature:confirm")," ").concat(x.from,"?"))&&C.a.put("".concat(S,"api/invoice/addSignature/").concat(c),Object(w.a)(Object(w.a)({},x),{},{sign:a.current.toDataURL()})).then((function(a){i.notify.show(u.a.t("Signature:success"),"success"),e.push("/thankYou/".concat(a.data.id))})).catch((function(e){var a=e.response?e.response.data.message:e.message;i.notify.show(a,"error")}))},children:[Object(b.jsx)(B.a,{icon:q.u})," ",u.a.t("Signature:send")]})})]}),Object(b.jsx)(_.a,{className:r?"d-block my-5 text-center":"d-none",children:Object(b.jsxs)(K.a,{children:[Object(b.jsx)("p",{className:"lead",children:u.a.t("Signature:alert")}),Object(b.jsxs)("p",{children:[u.a.t("Signature:alertBody")," "]})]})})]})}var Ze=function(){var e=Object(I.g)(),a=Object(I.i)().id;return Object(b.jsxs)(J.a,{className:"h-100-minus mt-5 d-flex flex-column justify-content-center align-items-center gap",children:[Object(b.jsx)("h1",{className:"display-4",children:u.a.t("thankYouScreen:title")}),Object(b.jsx)("p",{className:"lead",children:u.a.t("thankYouScreen:subtitle")}),Object(b.jsxs)(E.a,{onClick:function(){e.push("/invoice/display/".concat(a,"/no"))},children:[Object(b.jsx)(B.a,{icon:q.g,className:"mr-2"})," ",u.a.t("thankYouScreen:copy")]})]})},$e=t(172),ea=t.n($e),aa=[{id:1,type:"text",name:"name"},{id:2,type:"email",name:"email"},{id:3,type:"password",name:"password"},{id:4,type:"password",name:"passwordConfirmation"}];var ta=[{id:0,path:"/",component:function(){return Object(b.jsx)(J.a,{children:Object(b.jsxs)(_.a,{className:"h-100-minus align-items-center text-center text-md-left",children:[Object(b.jsxs)(K.a,{children:[Object(b.jsxs)("h1",{children:[u.a.t("Home:title")," ",Object(b.jsx)("span",{role:"img","aria-label":"Page",children:"\ud83d\udcc3"})]}),Object(b.jsx)("p",{className:"lead",children:u.a.t("Home:body")}),Object(b.jsx)(o.c,{to:"/invoice/generate",children:Object(b.jsxs)(E.a,{children:[Object(b.jsx)(B.a,{icon:q.k})," ",u.a.t("Home:startNow")]})})]}),Object(b.jsxs)(K.a,{className:"text-right d-none d-md-block",children:[Object(b.jsxs)("h6",{children:[u.a.t("Home:currentTime"),":"]}),Object(b.jsx)("h3",{children:m()().format("MMMM Do YYYY, h:mm:ss a")})]})]})})}},{id:1,path:"/signup",component:function(){var e=Object(I.g)(),a=Object(n.useState)({name:"",email:"",password:"",repeatPassword:"",token:""}),t=Object(l.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),d=o[0],j=o[1],m=Object(n.useRef)(),h=Object(n.useState)(!1),g=Object(l.a)(h,2),p=g[0],O=g[1],f=function(e){var a=e.target,t=a.name,n=a.value;c(Object(w.a)(Object(w.a)({},r),{},Object(Q.a)({},t,n)))};return Object(b.jsx)(J.a,{children:Object(b.jsxs)(_.a,{className:"h-100-minus align-items-center",children:[Object(b.jsxs)(K.a,{children:[Object(b.jsx)("h1",{children:u.a.t("Signup:title")}),Object(b.jsx)("p",{className:"lead",children:u.a.t("Signup:body")})]}),Object(b.jsx)(K.a,{className:"bg-light shadow p-3 rounded",children:Object(b.jsxs)(W.a,{noValidate:!0,validated:p,onSubmit:function(a){a.preventDefault(),j(!0);var t=a.currentTarget;r.token?!1===t.checkValidity()?(a.stopPropagation(),j(!1),i.notify.show(u.a.t("Signup:verifyForm"),"error")):(a.stopPropagation(),C.a.post("".concat(S,"api/user/register"),{email:r.email,password:r.password,name:r.name,token:r.token}).then((function(a){a.data.success?(j(!1),i.notify.show(u.a.t("Signup:confirm"),"success"),e.push("/")):(i.notify.show("Error: ".concat(a.data.message),"error"),j(!1))})).catch((function(e){try{i.notify.show("".concat(e.response.data.message),"error"),j(!1)}catch(a){i.notify.show("".concat(a.message),"error"),j(!1)}}))):(a.stopPropagation(),i.notify.show(u.a.t("Signup:invalidToken"),"error"),j(!1)),O(!0)},children:[aa.map((function(e){return Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{htmlFor:e.name,children:u.a.t("Signup:".concat(e.name))}),Object(b.jsx)(W.a.Control,{id:e.name,type:e.type,name:e.name,onChange:f,value:r[e.name],required:!0}),Object(b.jsx)(W.a.Control.Feedback,{type:"invalid",children:u.a.t("Signup:".concat(e.name,"Validation"))})]},e.id)})),Object(b.jsxs)(W.a.Group,{"data-testid":"testing",children:[Object(b.jsx)(W.a.Label,{htmlFor:"captcha",children:"Captcha!"}),Object(b.jsx)(ea.a,{ref:m,sitekey:P,onVerify:function(e){return c(Object(w.a)(Object(w.a)({},r),{},{token:e}))},onExpire:function(){return c(Object(w.a)(Object(w.a)({},r),{},{token:""}))}})]}),Object(b.jsxs)(E.a,{disabled:d,variant:"primary",type:"submit",children:[d?Object(b.jsx)(X.a,{animation:"border",size:"sm"}):Object(b.jsx)(B.a,{icon:q.a})," ",u.a.t("Signup:save")]})]})})]})})}},{id:2,path:"/login",component:function(){var e=Object(n.useContext)(L).setUserData,a=Object(n.useState)({email:"",password:""}),t=Object(l.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)(!1),o=Object(l.a)(s,2),d=o[0],j=o[1],m=Object(n.useState)(!1),h=Object(l.a)(m,2),g=h[0],p=h[1],O=Object(I.g)(),f=function(e){var a=e.target,t=a.name,n=a.value;c(Object(w.a)(Object(w.a)({},r),{},Object(Q.a)({},t,n)))};return Object(b.jsx)(J.a,{children:Object(b.jsxs)(_.a,{className:"h-100-minus align-items-center",children:[Object(b.jsx)(K.a,{}),Object(b.jsx)(K.a,{md:6,sm:12,className:"shadow rounded bg-light p-3",children:Object(b.jsxs)(W.a,{onSubmit:function(a){var t=a.currentTarget;a.preventDefault(),p(!0),!1===t.checkValidity()?(a.stopPropagation(),i.notify.show(u.a.t("Login:verifyData"),"error"),p(!1)):(a.stopPropagation(),C.a.post("".concat(S,"api/user/login"),r).then((function(a){var t=a.data;t.success&&t.confirmed?(e({isLoggedIn:!0,token:t.data.token,name:t.data.name,id:t.data._id}),localStorage.setItem("bill-token",t.data.token),i.notify.show("".concat(t.message),"success"),p(!1),O.push("/")):t.confirmed?(i.notify.show(u.a.t("Login:error"),"error"),p(!1)):O.push("/confirmError/novalidated")})).catch((function(e){var a=e.response?e.response.data.message:e.message;i.notify.show("".concat(a),"error"),p(!1)}))),j(!0)},noValidate:!0,validated:d,children:[Me.map((function(e){return Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{htmlFor:e.name,children:u.a.t("Login:".concat(e.name))}),Object(b.jsx)(W.a.Control,{id:e.name,type:e.name,name:e.name,value:r[e.name],onChange:f,required:!0}),Object(b.jsx)(W.a.Control.Feedback,{type:"invalid",children:u.a.t("Login:".concat(e.name,"Validation"))})]},e.id)})),Object(b.jsxs)(E.a,{disabled:g,variant:"primary",type:"submit",children:[g?Object(b.jsx)(X.a,{animation:"border",size:"sm"}):Object(b.jsx)(B.a,{icon:q.b})," ",u.a.t("Login:login")]})]})}),Object(b.jsx)(K.a,{})]})})}},{id:3,path:"/logout",component:function(){var e=Object(n.useContext)(L),a=Object(I.g)(),t=new URLSearchParams(Object(I.h)().search).get("type");Object(n.useEffect)((function(){localStorage.removeItem("bill-token"),e.setUserData({isLoggedIn:!1,level:9,token:"",name:""})}),[]);var r=function(){switch(t){case"changedemail":return{title:u.a.t("Logout:wentGreat"),body:u.a.t("Logout:changedEmailBody"),emoji:"\ud83d\ude04"};case"changedpassword":return{title:u.a.t("Logout:wentGreat"),body:u.a.t("Logout:changedPasswordBody"),emoji:"\ud83d\ude04"};default:return{title:u.a.t("Logout:title"),body:u.a.t("Logout:body"),emoji:"\ud83d\ude22"}}};return Object(b.jsx)(J.a,{children:Object(b.jsx)(_.a,{className:"h-100-minus align-items-center",children:Object(b.jsxs)(K.a,{className:"text-center",children:[Object(b.jsxs)("h1",{children:[r().title," ",Object(b.jsx)("span",{role:"img","aria-label":"sad",children:r().emoji})]}),Object(b.jsx)("p",{children:r().body}),Object(b.jsx)(E.a,{className:"mt-5",onClick:function(){return a.push("/")},children:u.a.t("Logout:goBack")})]})})})}},{id:5,path:"/invoice/generate",component:Be},{id:6,path:"/invoice/display/:id/:socketId",component:function(){var e=Object(n.useRef)(Object(b.jsx)("div",{})),a=Object(I.i)(),t=a.id,r=a.socketId,c=Object(n.useState)({invoiceNumber:1,logo:"",date:new Date,from:"",amountText:"",amount:0,concept:"",sign:"",currency:"ARS",pending:!1,transactionNumber:void 0}),s=Object(l.a)(c,2),o=s[0],d=s[1],j=Object(n.useState)(!1),m=Object(l.a)(j,2),h=m[0],g=m[1],p=Object(n.useState)(""),O=Object(l.a)(p,2),f=O[0],x=O[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),N=y[0],k=y[1],P=Object(n.useState)(!0),L=Object(l.a)(P,2),R=L[0],D=L[1],T=function(){return Object(we.a)(e.current,{paperSize:"A4",landscape:!0,scale:.75}).then((function(e){return Object(Ne.a)(e)}))},E=function(){var e=Object(ve.a)(xe.a.mark((function e(){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Oe,e.next=3,T();case 3:e.t1=e.sent,e.t0.emit.call(e.t0,"pdf",e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(ve.a)(xe.a.mark((function e(a){var t,n;return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t=a.currentTarget,e.next=4,T();case 4:n=e.sent,!0===t.checkValidity()&&C.a.post("".concat(S,"api/mail/send/invoice"),{file:n,date:o.date,email:f}).then((function(e){var a=e.data,t=a.success,n=a.message;t?i.notify.show(n,"success"):i.notify.show(n,"error")})).catch((function(e){i.notify.show(u.a.t("DisplayInvoice:error"),"error")})),k(!0);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return Oe=Ie()(S),C.a.get("".concat(S,"api/invoice/single/").concat(t),A()).then((function(e){var a=e.data;D(!1);var t=function(e){var a=e.slice(0,10).split("-");return{year:parseInt(a[0]),month:parseInt(a[1],10)-1,date:parseInt(a[2])}}(a.data.date),n=t.year,r=t.month,c=t.date;d(Object(w.a)(Object(w.a)({},a.data),{},{date:new Date(n,r,c)}))})).catch((function(e){i.notify.show(u.a.t("DisplayInvoice:error")),D(!1)})),Oe.emit("join",r),function(){Oe.off("join")}}),[S]),R?Object(b.jsx)($,{text:u.a.t("GenerateInvoice:loadingText")}):Object(b.jsxs)(J.a,{children:[Object(b.jsx)(_.a,{className:"my-5",children:Object(b.jsx)(ke,{exportPDFToFile:function(){Object(ye.a)(e.current,{paperSize:"A4",fileName:"Invoice - ".concat(Intl.DateTimeFormat(navigator.language,{month:"numeric",day:"numeric",year:"numeric"}).format(new Date(o.date))," - ").concat(t),landscape:!1,scale:.5})},transformPDFToBase64:E,toggleEmailInput:function(){return g(!h)},hasSocketId:"no"===r})}),Object(b.jsx)(_.a,{className:h?"d-block":"d-none",children:Object(b.jsx)(Se,{recipient:f,sendEmail:function(e){return F(e)},setRecipient:function(e){return x(e.target.value)},validated:N})}),Object(b.jsxs)("div",{ref:e,children:[Object(b.jsx)(Pe,{data:o,isOriginal:!0}),Object(b.jsx)(Pe,{data:o})]})]})}},{id:7,path:"/signature/:socketId",component:Xe},{id:8,path:"/thankYou/:id",component:Ze},{id:9,path:"/offlinesignature/:invoiceId",component:Xe},{id:10,path:"/confirm/:token",component:ee},{id:11,path:"/confirmError/:errorType",component:ae}],na=[{id:1,path:"/dashboard",component:function(){var e=Object(I.g)(),a=Object(n.useState)([]),t=Object(l.a)(a,2),r=t[0],c=t[1],s=Object(n.useState)([]),o=Object(l.a)(s,2),d=o[0],j=o[1],m=Object(n.useState)(!0),h=Object(l.a)(m,2),g=h[0],p=h[1],O=function(a){var t=C.a.get("".concat(S,"api/invoice/completed?from=").concat(a.from,"&to=").concat(a.to,"&tags=").concat(a.tags,"&types=").concat(a.type),A()),n=C.a.get("".concat(S,"api/invoice/pending?from=").concat(a.from,"&to=").concat(a.to,"&tags=").concat(a.tags,"&types=").concat(a.type),A());C.a.all([t,n]).then(C.a.spread((function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];j(a[0].data.data),c(a[1].data.data),p(!1)}))).catch((function(a){i.notify.show(u.a.t("Dashboard:queryError"),"error"),e.push("/")}))};return Object(n.useEffect)((function(){p(!0),O({})}),[]),Object(b.jsx)(J.a,{className:"my-5",children:Object(b.jsx)(_.a,{className:"h-100-minus",children:Object(b.jsxs)(K.a,{children:[Object(b.jsx)(oe,{isLoading:g,setIsLoading:function(e){return p(e)},submitFilter:function(e){return O(e)}}),Object(b.jsx)(pe,{isLoading:g,refreshData:function(e){return O(e)},deleteBill:function(e){return function(e){void 0!==e&&window.confirm(u.a.t("Dashboard:deleteBill"))&&C.a.delete("".concat(S,"api/invoice/").concat(e),A()).then((function(e){e.data.success?(i.notify.show(u.a.t("Dashboard:deleteConfirm"),"success"),O({})):i.notify.show(e.data.message,"warning")})).catch((function(e){i.notify.show(e.response.data.message,"error")}))}(e)},completed:d,pending:r})]})})})}},{id:2,path:"/profile",component:Je},{id:4,path:"/invoice/edit/:id",component:Be},{id:5,path:"/changePassword",component:function(){var e=Object(n.useContext)(L).id,a=Object(I.g)(),t=Object(n.useState)({currentPassword:"",newPassword:"",repeatNewPassword:""}),r=Object(l.a)(t,2),c=r[0],s=r[1],o=Object(n.useState)(!1),d=Object(l.a)(o,2),j=d[0],m=d[1],h=Object(n.useState)(!1),g=Object(l.a)(h,2),p=g[0],O=g[1],f=function(e){var a=e.target,t=a.name,n=a.value;s(Object(w.a)(Object(w.a)({},c),{},Object(Q.a)({},t,n)))};return Object(b.jsx)(J.a,{children:Object(b.jsxs)(_.a,{className:"h-100-minus align-items-center",children:[Object(b.jsx)(K.a,{}),Object(b.jsx)(K.a,{md:6,sm:12,className:"shadow rounded bg-light p-3",children:Object(b.jsxs)(W.a,{onSubmit:function(t){t.preventDefault(),m(!0),O(!0),!1===t.currentTarget.checkValidity()?(t.stopPropagation(),i.notify.show(u.a.t("Login:verifyData"),"error"),O(!1)):c.newPassword!==c.repeatNewPassword?i.notify.show(u.a.t("ChangePassword:dontMatch","warning")):confirm(u.a.t("ChangePassword:confirm"))&&C.a.put("".concat(S,"api/user/changePassword/").concat(e),c,A()).then((function(e){a.push("/logout?type=changedpassword"),O(!1)})).catch((function(e){i.notify.show(e.response.data.message||e.message,"error"),O(!1)}))},noValidate:!0,validated:j,children:[Z.map((function(e){return Object(b.jsxs)(W.a.Group,{children:[Object(b.jsx)(W.a.Label,{htmlFor:e.name,children:u.a.t("ChangePassword:".concat(e.name))}),Object(b.jsx)(W.a.Control,{id:e.name,type:"password",name:e.name,value:c[e.name],onChange:f,required:!0}),Object(b.jsx)(W.a.Control.Feedback,{type:"invalid",children:u.a.t("ChangePassword:".concat(e.name,"Validation"))})]},e.id)})),Object(b.jsxs)(E.a,{disabled:p,variant:"primary",type:"submit",children:[p?Object(b.jsx)(X.a,{animation:"border",size:"sm"}):Object(b.jsx)(B.a,{icon:q.b})," ",u.a.t("ChangePassword:submit")]})]})}),Object(b.jsx)(K.a,{})]})})}}];function ra(){return Object(b.jsxs)(I.d,{children:[ta.map((function(e){return Object(b.jsx)(I.b,{path:e.path,component:e.component,exact:!0},e.id)})),na.map((function(e){return Object(b.jsx)(z,{path:e.path,render:e.component},e.id)})),Object(b.jsx)(I.b,{render:function(){return Object(b.jsx)("div",{children:"Not found"})}})]})}var ca=function(){var e=Object(n.useContext)(h);return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(R,{children:Object(b.jsx)(y,{children:Object(b.jsxs)(o.b,{basename:"",children:[Object(b.jsx)(H,{changeLang:function(a){return function(a){e.setLanguage(a)}(a)}}),Object(b.jsx)(ra,{})]})})})})},sa=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,313)).then((function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,c=a.getLCP,s=a.getTTFB;t(e),n(e),r(e),c(e),s(e)}))};t(279),t(280);f.a.tz.setDefault("America/Buenos_Aires"),f.a.locale(localStorage.getItem("i18nextLng")||"en"),s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(o.a,{children:Object(b.jsxs)(g,{children:[Object(b.jsx)(d.a,{options:p}),Object(b.jsx)(ca,{})]})})}),document.getElementById("root")),sa()}},[[281,1,2]]]);
//# sourceMappingURL=main.01e68cd2.chunk.js.map