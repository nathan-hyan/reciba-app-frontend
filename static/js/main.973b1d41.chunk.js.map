{"version":3,"sources":["constants/endpoint.ts","Context/UserContext.tsx","Pages/Home.tsx","Pages/auth/Signup.tsx","Pages/auth/Login.tsx","Pages/auth/Logout.tsx","Layout/NavigationBar/userMenu/UsermenuLoggedIn.tsx","Layout/NavigationBar/userMenu/UsermenuLoggedOut.tsx","Layout/NavigationBar/options/OptionsLoggedIn.tsx","Layout/NavigationBar/options/OptionsLoggedOut.tsx","Layout/NavigationBar/Navigation.tsx","Pages/invoice/qr/ShowQRCodeModal.tsx","Context/IdGeneration.tsx","Pages/dashboard/Filter.tsx","Layout/LoadingScreen.tsx","Pages/dashboard/TagsModal.tsx","Pages/dashboard/InvoicesList.tsx","Pages/dashboard/DashboardScreen.tsx","Context/PrivateRoute.tsx","Pages/invoice/generate/DownloadModal.tsx","Pages/invoice/generate/Signature.tsx","Pages/invoice/display/DisplayInvoice.tsx","Pages/invoice/display/Bill.tsx","Pages/invoice/display/ButtonsGroup.tsx","Pages/invoice/display/EmailInput.tsx","Pages/invoice/generate/GenerateInvoice.tsx","App.tsx","index.tsx"],"names":["endpoints","UserContext","createContext","UserContextProvider","props","history","useHistory","storedToken","localStorage","getItem","useState","isLoggedIn","level","token","name","userData","setUserData","Axios","post","headers","auth","then","response","setItem","data","catch","err","removeItem","notify","show","message","push","Provider","value","children","Home","Container","Row","className","Col","role","aria-label","to","Button","icon","faLink","Signup","user","useContext","email","password","repeatPassword","state","setState","validated","setValidated","handleChange","e","target","Form","noValidate","onSubmit","preventDefault","currentTarget","checkValidity","stopPropagation","success","Group","Label","Control","type","onChange","required","Feedback","sitekey","onVerify","console","log","variant","faCheck","Login","User","login","setLogin","md","sm","event","form","error","faCheckCircle","Logout","useEffect","onClick","UsermenuLoggedIn","NavDropdown","Item","faUserEdit","faDoorOpen","UsermenuLoggedOut","faUserCheck","faUserPlus","OptionsLoggedIn","Nav","faHome","faPlus","faColumns","OptionsLoggedOut","Navigation","Navbar","fixed","style","zIndex","bg","expand","Brand","Toggle","Collapse","title","id","height","ShowQRCodeModal","onHide","currentId","Modal","size","Body","href","faTimesCircle","IdGeneration","generateId","IdGenerationProvider","uuidv4","Filter","submitFilter","isLoading","setIsLoading","from","tags","query","setQuery","Accordion","Card","as","Header","eventKey","Intl","DateTimeFormat","navigator","language","month","day","year","format","Date","setUTCHours","moment","startOf","endOf","disabled","faSearch","LoadingScreen","width","TagsModal","handleClose","invoiceId","prevTags","refreshData","setTags","toString","arrayFromString","split","processedArray","item","trim","items","Error","put","saveTags","closeButton","Title","controlId","placeholder","Footer","InvoicesList","completed","pending","deleteBill","showTagsModal","setShowTagsModal","tagData","setTagData","toggleTagsModal","prevState","length","ListGroup","map","invoice","index","date","Badge","alreadySent","isAlreadySent","OverlayTrigger","placement","overlay","Tooltip","emailAddress","faEnvelope","color","faTag","_id","faPen","faTrash","undefined","window","prompt","sendSignatureLinkViaMail","faPaperPlane","currency","amount","faPrint","DashboardScreen","pendingBills","setPendingBills","completedBills","setCompletedBills","axiosHeaders","getBills","get","all","spread","bool","confirm","delete","res","PrivateRoute","Render","render","rest","DownloadModal","PDFFile","download","faDownload","socket","SignaturePad","require","Signature","signatureRef","useRef","useParams","socketId","showModal","setShowModal","setPDFFile","io","emit","on","file","showDeleteModal","alert","off","sendSign","current","toDataURL","concept","onTouchEnd","onMouseUp","ref","clear","sign","faShare","Bill","isOriginal","marginTop","paddingLeft","logo","src","alt","invoiceNumber","weekday","amountText","ButtonsGroup","exportPDFToFile","transformPDFToBase64","toggleEmailInput","hasSocketId","faFileDownload","faPhone","EmailInput","sendEmail","setRecipient","recipient","DisplayInvoice","showEmail","setShowEmail","drawDOM","paperSize","landscape","scale","group","exportPDF","emitPDFViaSocket","a","input","dateArray","slice","parseInt","dateTransformer","savePDF","fileName","socketRoomId","GenerateInvoice","toISOString","substr","showQRCodeModal","setShowQRCodeModal","checked","newValue","newDate","oldstate","showQRCodeModalAndGenerateCode","i","InputGroup","Prepend","Text","min","faQrcode","Spinner","animation","faSave","App","basename","process","path","component","exact","ReactDOM","StrictMode","options","top","colors","backgroundColor","document","getElementById"],"mappings":"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","file":"static/js/main.973b1d41.chunk.js","sourcesContent":["// export const endpoints = {\n//     backend: \"https://recibapp.herokuapp.com/\",\n//     frontend: \"https://reciba.app/\"\n// }\n\nexport const endpoints = {\n    backend: \"http://192.168.100.57:8000/\",\n    frontend: \"http://192.168.100.57:3000/\"\n}\n","import React, { createContext, useState } from \"react\";\r\nimport Axios from \"axios\";\r\nimport { notify } from \"react-notify-toast\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { endpoints } from '../constants/endpoint';\r\n\r\ntype ContextProps = {\r\n  isLoggedIn: boolean;\r\n  level: number;\r\n  token: string;\r\n  name: string;\r\n  setUserData: any;\r\n};\r\n\r\nexport const UserContext = createContext<Partial<ContextProps>>({});\r\n\r\nconst UserContextProvider = (props: { children: React.ReactNode }) => {\r\n  const history = useHistory();\r\n  const storedToken = localStorage.getItem(\"bill-token\");\r\n  const [userData, setUserData] = useState({\r\n    isLoggedIn: false,\r\n    level: 9,\r\n    token: \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  if (storedToken && !userData.isLoggedIn) {\r\n    Axios.post(\r\n      endpoints.backend+\"api/user/loggedInUser\",\r\n      { storedToken },\r\n      { headers: { auth: localStorage.getItem(\"bill-token\") } }\r\n    )\r\n      .then((response) => {\r\n        localStorage.setItem(\"bill-token\", response.data.data.token);\r\n        setUserData({\r\n          isLoggedIn: true,\r\n          level: 9,\r\n          token: response.data.data.token,\r\n          name: response.data.data.name,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        localStorage.removeItem(\"bill-token\");\r\n        notify.show(err.response.data.message, \"error\");\r\n        setUserData({\r\n          isLoggedIn: false,\r\n          level: 9,\r\n          token: \"\",\r\n          name: \"\",\r\n        });\r\n        history.push(\"/\");\r\n      });\r\n  }\r\n\r\n  return (\r\n    <UserContext.Provider value={{ ...userData, setUserData }}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserContextProvider;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container, Row, Col, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faLink } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <Container>\r\n      <Row className=\"h-100-minus align-items-center\">\r\n        <Col>\r\n          <h1>\r\n            Basta de usar papel para tus comprobantes\r\n            <span role=\"img\" aria-label=\"Page\">\r\n              📃\r\n            </span>\r\n          </h1>\r\n\r\n          <p className=\"lead\">\r\n            ¡Ahora podés hacer todo digital! Creá, guardá, enviá comprobantes\r\n            desde tu casa sin necesidad de contacto físico.\r\n          </p>\r\n\r\n          <Link to=\"/invoice/generate\">\r\n            <Button>\r\n              <FontAwesomeIcon icon={faLink} /> Comenzá ahora\r\n            </Button>\r\n          </Link>\r\n        </Col>\r\n\r\n        <Col className=\"text-right\">\r\n          <h3>...</h3>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\r\nimport { faCheck } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport Axios from \"axios\";\r\nimport { notify } from \"react-notify-toast\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\nimport HCaptcha from \"@hcaptcha/react-hcaptcha\";\r\nimport { endpoints } from '../../constants/endpoint';\r\n\r\nexport default function Signup() {\r\n  const history = useHistory();\r\n  const user = useContext(UserContext);\r\n\r\n  const [state, setState] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n  });\r\n\r\n  const [validated, setValidated] = useState(false);\r\n\r\n  const handleSubmit = (e: {\r\n    preventDefault: () => void;\r\n    currentTarget: any;\r\n    stopPropagation: () => void;\r\n  }) => {\r\n    e.preventDefault();\r\n    const form = e.currentTarget;\r\n    if (form.checkValidity() === false) {\r\n      e.stopPropagation();\r\n      notify.show(\"Por favor, verifique los datos antes de continuar\", \"error\");\r\n    } else {\r\n      e.stopPropagation();\r\n      Axios.post(`${endpoints.backend}api/user/register`, {\r\n        email: state.email,\r\n        password: state.password,\r\n        name: state.name,\r\n      })\r\n        .then((response) => {\r\n          if (response.data.success) {\r\n            Axios.post(`${endpoints.backend}api/user/login`, {\r\n              email: state.email,\r\n              password: state.password,\r\n            })\r\n              .then(({ data }) => {\r\n                if (data.success) {\r\n                  user.setUserData({\r\n                    isLoggedIn: true,\r\n                    token: data.data.token,\r\n                    name: data.data.name,\r\n                  });\r\n                  localStorage.setItem(\"bill-token\", data.data.token);\r\n                  notify.show(`${data.message}`, \"success\");\r\n                  history.push(\"/\");\r\n                } else {\r\n                  notify.show(\"Ocurrió un error, reintente por favor\", \"error\");\r\n                }\r\n              })\r\n              .catch((err) => {\r\n                notify.show(`${err.response.data.message}`, \"error\");\r\n              });\r\n          } else {\r\n            notify.show(`Error: ${response.data.message}`, \"error\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          try {\r\n            notify.show(`${err.response.data.message}`, \"error\");\r\n          } catch (err) {\r\n            notify.show(`${err.message}`, \"error\");\r\n          }\r\n        });\r\n    }\r\n\r\n    setValidated(true);\r\n  };\r\n\r\n  const handleChange = (e: { target: { name: any; value: any } }) => {\r\n    let { name, value } = e.target;\r\n    setState({ ...state, [name]: value });\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"h-100-minus align-items-center\">\r\n        <Col>\r\n          <h1>Inicie sesión para tener más beneficios</h1>\r\n          <p className=\"lead\">\r\n            Lorem ipsum dolor sit, amet consectetur adipisicing elit. At, nisi.\r\n            Provident ipsum praesentium numquam sapiente.\r\n          </p>\r\n        </Col>\r\n        <Col className=\"bg-light shadow p-3 rounded\">\r\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>Nombre</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                name=\"name\"\r\n                onChange={handleChange}\r\n                value={state.name}\r\n                required\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Por favor ingrese su nombre{\" \"}\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>Dirección de correo</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                name=\"email\"\r\n                onChange={handleChange}\r\n                value={state.email}\r\n                required\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Ingrese un e-mail válido\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n            <Row>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.Label>Contraseña</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    onChange={handleChange}\r\n                    value={state.password}\r\n                    required\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    Por favor, ingrese una contraseña\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.Label>Repita la contraseña</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    name=\"repeatPassword\"\r\n                    onChange={handleChange}\r\n                    value={state.repeatPassword}\r\n                    required\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    Verifique que la contraseña sea igual en ambos casos\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n\r\n            <Form.Group>\r\n              <Form.Label>Captcha!</Form.Label>\r\n              <HCaptcha\r\n                sitekey=\"be3fd67b-1a61-4936-b57f-600e3765988f\"\r\n                onVerify={(token) => console.log(token)}\r\n              />\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              <FontAwesomeIcon icon={faCheck} /> Guardar datos\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Row, Col, Container, Form, Button } from \"react-bootstrap\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCheckCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { notify } from \"react-notify-toast\";\r\nimport Axios from \"axios\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\nimport { endpoints } from '../../constants/endpoint';\r\n\r\nexport default function Login() {\r\n  const User = useContext(UserContext);\r\n  const [login, setLogin] = useState({ email: \"\", password: \"\" });\r\n  const [validated, setValidated] = useState(false);\r\n  const history = useHistory();\r\n\r\n  /**\r\n   * Maneja el estado correspondiente a cada input\r\n   *\r\n   * @param e Input\r\n   */\r\n  const handleChange = (e: { target: { name: any; value: any } }) => {\r\n    let { name, value } = e.target;\r\n    setLogin({ ...login, [name]: value });\r\n  };\r\n\r\n  /**\r\n   * Envía los datos al servidor para guardar\r\n   *\r\n   * @param event Formulario\r\n   */\r\n  const onSubmit = (event: {\r\n    currentTarget: any;\r\n    preventDefault: () => void;\r\n    stopPropagation: () => void;\r\n  }) => {\r\n    const form = event.currentTarget;\r\n    event.preventDefault();\r\n    if (form.checkValidity() === false) {\r\n      event.stopPropagation();\r\n      notify.show(\"Por favor verifique los datos antes de continuar\", \"error\");\r\n    } else {\r\n      event.stopPropagation();\r\n      Axios.post(`${endpoints.backend}api/user/login`, login)\r\n        .then(({ data }) => {\r\n          console.log(data);\r\n\r\n          if (data.success) {\r\n            User.setUserData({\r\n              isLoggedIn: true,\r\n              token: data.data.token,\r\n              name: data.data.name,\r\n            });\r\n            localStorage.setItem(\"bill-token\", data.data.token);\r\n            notify.show(`${data.message}`, \"success\");\r\n            history.push(\"/\");\r\n          } else {\r\n            notify.show(\"Ocurrió un error, por favor reintente\", \"error\");\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          let error = err.response ? err.response.data.message : err.message;\r\n          notify.show(`${error}`, \"error\");\r\n        });\r\n    }\r\n\r\n    setValidated(true);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"h-100-minus align-items-center\">\r\n        <Col />\r\n        <Col md={6} sm={12} className=\"shadow rounded bg-light p-3\">\r\n          <Form onSubmit={onSubmit} noValidate validated={validated}>\r\n            <Form.Group>\r\n              <Form.Label>Dirección de correo</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                name=\"email\"\r\n                value={login.email}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Por favor ingrese un e-mail válido\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>Contraseña</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                name=\"password\"\r\n                value={login.password}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              <Form.Control.Feedback type=\"invalid\">\r\n                Ingrese su contraseña\r\n              </Form.Control.Feedback>\r\n            </Form.Group>\r\n\r\n            <Button variant=\"primary\" type=\"submit\">\r\n              <FontAwesomeIcon icon={faCheckCircle} /> Iniciar sesión\r\n            </Button>\r\n          </Form>\r\n        </Col>\r\n        <Col />\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Row, Col, Container, Button } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\n\r\nexport default function Logout() {\r\n  const User = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    localStorage.removeItem(\"bill-token\");\r\n    User.setUserData({\r\n      isLoggedIn: false,\r\n      level: 9,\r\n      token: \"\",\r\n      name: \"\",\r\n    });\r\n\r\n    //eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <Row className=\"h-100-minus align-items-center\">\r\n        <Col className=\"text-center\">\r\n          <h1>\r\n            Que lástima verte partir{\" \"}\r\n            <span role=\"img\" aria-label=\"sad\">\r\n              😢\r\n            </span>\r\n          </h1>\r\n          <p>¡Ojalá podamos volverte a ver!</p>\r\n          <Button className=\"mt-5\" onClick={() => history.push(\"/\")}>\r\n            Ir a la página principal\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import { faUserEdit, faDoorOpen } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { NavDropdown } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nexport default function UsermenuLoggedIn() {\n  return (\n    <div>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/profile\">\n          <FontAwesomeIcon icon={faUserEdit} className=\"mr-1\" /> Perfil\n        </Link>\n      </NavDropdown.Item>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/logout\">\n          <FontAwesomeIcon icon={faDoorOpen} className=\"mr-1\" /> Cerrar sesión\n        </Link>\n      </NavDropdown.Item>\n    </div>\n  );\n}\n","import { faUserCheck, faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { NavDropdown } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nexport default function UsermenuLoggedOut() {\n  return (\n    <div>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/login\">\n          <FontAwesomeIcon icon={faUserCheck} className=\"mr-1\" /> Iniciar sesión\n        </Link>\n      </NavDropdown.Item>\n      <NavDropdown.Item>\n        <Link className=\"text-dark text-decoration-none\" to=\"/signup\">\n          <FontAwesomeIcon icon={faUserPlus} className=\"mr-1\" /> Crear usuario\n        </Link>\n      </NavDropdown.Item>\n    </div>\n  );\n}\n","import { faColumns, faHome, faPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nexport default function OptionsLoggedIn() {\n  return (\n    <Nav className=\"mr-auto\">\n      <Link className=\"text-light mr-3 text-decoration-none\" to=\"/\">\n        <FontAwesomeIcon icon={faHome} /> Principal\n      </Link>\n      <Link\n        className=\"text-light mr-3 text-decoration-none\"\n        to=\"/invoice/generate\"\n      >\n        <FontAwesomeIcon icon={faPlus} /> Crear nueva boleta\n      </Link>\n      <Link className=\"text-light mr-3 text-decoration-none\" to=\"/dashboard\">\n        <FontAwesomeIcon icon={faColumns} /> Dashboard\n      </Link>\n    </Nav>\n  );\n}\n","import { faHome } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Nav } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\n\nexport default function OptionsLoggedOut() {\n  return (\n    <Nav className=\"mr-auto\">\n      <Link className=\"text-light mr-3 text-decoration-none\" to=\"/\">\n        <FontAwesomeIcon icon={faHome} /> Principal\n      </Link>\n    </Nav>\n  );\n}\n","import React, { useContext } from \"react\";\r\nimport { Navbar, Nav, NavDropdown } from \"react-bootstrap\";\r\nimport { UserContext } from \"../../Context/UserContext\";\r\nimport UsermenuLoggedIn from \"./userMenu/UsermenuLoggedIn\";\r\nimport UsermenuLoggedOut from \"./userMenu/UsermenuLoggedOut\";\r\nimport OptionsLoggedIn from \"./options/OptionsLoggedIn\";\r\nimport OptionsLoggedOut from \"./options/OptionsLoggedOut\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Navigation() {\r\n  const user = useContext(UserContext);\r\n\r\n  return (\r\n    <>\r\n      <Navbar\r\n        fixed=\"top\"\r\n        style={{ zIndex: 999 }}\r\n        bg=\"primary\"\r\n        variant=\"dark\"\r\n        expand=\"lg\"\r\n      >\r\n        <Link to=\"/\">\r\n          <Navbar.Brand>reciba.app</Navbar.Brand>\r\n        </Link>\r\n        <Navbar.Toggle />\r\n        <Navbar.Collapse>\r\n          {!user.isLoggedIn ? <OptionsLoggedOut /> : <OptionsLoggedIn />}\r\n          <Nav className=\"ml-auto\">\r\n            <NavDropdown\r\n              title={`Usuario actual: ${\r\n                user.isLoggedIn ? user.name : \"invitado\"\r\n              }`}\r\n              id=\"collasible-nav-dropdown\"\r\n            >\r\n              {!user.isLoggedIn ? <UsermenuLoggedOut /> : <UsermenuLoggedIn />}\r\n            </NavDropdown>\r\n          </Nav>\r\n        </Navbar.Collapse>\r\n      </Navbar>\r\n      <div style={{ height: 35 }} />\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useEffect } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport { Row, Col, Button, Modal } from \"react-bootstrap\";\nimport \"./QRCode.css\";\nimport { IdGeneration } from \"../../../Context/IdGeneration\";\nimport { faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { endpoints } from '../../../constants/endpoint';\n\nexport default function ShowQRCodeModal({\n  show = true,\n  onHide = () => (show = !show),\n  currentId = \"Error\",\n}: {\n  show: boolean;\n  onHide: () => void;\n  currentId: string;\n}) {\n\n  return (\n    <Modal size=\"xl\" show={show} onHide={onHide}>\n      <Modal.Body>\n        <Row>\n          <Col>\n            <p className=\"lead text-center\">\n              Escanee el código con el celular para poder firmar en este\n              comprobante\n            </p>\n          </Col>\n        </Row>\n        <Row className=\"my-5\">\n          <Col />\n          <Col className=\"bg-white shadow rounded p-3\" md={3}>\n            <QRCode size={200} value={`${endpoints.frontend}#/signature/${currentId}`} />\n          </Col>\n          <Col />\n        </Row>\n        <Row>\n          <Col className=\"text-center\">\n            <small>\n              También puede ingresar acá para firmar{\" \"}\n              <a\n                target=\"_blank\"\n                href={`${endpoints.frontend}#/signature/${currentId}`}\n              >{`${endpoints.frontend}#/signature/${currentId}`}</a>\n            </small>\n          </Col>\n        </Row>\n        <Row>\n          <Col className=\"text-center\">\n            <p className=\"lead\">\n              Al finalizar la firma, presionar para continuar\n            </p>\n            <Button onClick={onHide}>\n              <FontAwesomeIcon icon={faTimesCircle} /> Cerrar\n            </Button>\n          </Col>\n        </Row>\n      </Modal.Body>\n    </Modal>\n  );\n}\n","import React, { createContext, useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nexport const IdGeneration = createContext<{\n  generateId: () => string;\n  currentId: string;\n}>({\n  generateId: () => {\n    return \"\";\n  },\n  currentId: \"\",\n});\n\nexport default function IdGenerationProvider(props: {\n  children: React.ReactNode;\n}) {\n  const [currentId, setCurrentId] = useState(\"\");\n\n  const generateId = () => {\n    const newId = uuidv4();\n    return newId;\n  };\n\n  return (\n    <IdGeneration.Provider value={{ generateId, currentId }}>\n      {props.children}\n    </IdGeneration.Provider>\n  );\n}\n","import { faSearch, faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React, { useState } from \"react\";\nimport { Accordion, Button, Card, Col, Form, Row } from \"react-bootstrap\";\nimport { queryType } from \"../../Interfaces/invoice\";\nimport moment from \"moment\";\n\nexport default function Filter({\n  submitFilter,\n  isLoading,\n  setIsLoading,\n}: {\n  submitFilter: (query: queryType) => void;\n  isLoading: boolean;\n  setIsLoading: (isLoading: boolean) => void;\n}) {\n  const [query, setQuery] = useState<queryType>({\n    from: \"\",\n    to: \"\",\n    tags: \"\",\n  });\n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n\n    setIsLoading(true);\n    submitFilter({\n      from: query.from\n        ? moment(query.from).startOf(\"day\").format(\"YYYY-MM-DD\")\n        : \"undefined\",\n      to: query.to\n        ? moment(query.to).endOf(\"day\").format(\"YYYY-MM-DD\")\n        : \"undefined\",\n      tags: query.tags,\n    });\n  };\n\n  const clearSearch = () => {\n    setIsLoading(true);\n    submitFilter({});\n    setQuery({ from: \"\", to: \"\", tags: \"\" });\n  };\n\n  const handleChange = (e: { target: { name: any; value: any } }) => {\n    let { name, value } = e.target;\n    setQuery({ ...query, [name]: value });\n  };\n\n  const filterDisplay = () => {\n    if (query.from || query.to) {\n      return (\n        <small className=\"text-muted border rounded p-1\">\n          {`${\n            query.from\n              ? `Desde: ${Intl.DateTimeFormat(navigator.language, {\n                  month: \"numeric\",\n                  day: \"numeric\",\n                  year: \"numeric\",\n                }).format(new Date(query.from).setUTCHours(3))}`\n              : \"\"\n          } ${\n            query.to\n              ? `Hasta: ${Intl.DateTimeFormat(navigator.language, {\n                  month: \"numeric\",\n                  day: \"numeric\",\n                  year: \"numeric\",\n                }).format(new Date(query.to).setUTCHours(3))}`\n              : \"\"\n          }`}\n        </small>\n      );\n    } else {\n      return (\n        <small className=\"text-muted border rounded p-1\">\n          {`Mostrando las boletas de ${Intl.DateTimeFormat(navigator.language, {\n            month: \"long\",\n          }).format(new Date().setUTCHours(3))}`}\n        </small>\n      );\n    }\n  };\n\n  console.log(query);\n\n  return (\n    <Col className=\"bg-white rounded shadow p-3 mb-3\">\n      <Accordion>\n        <Card>\n          <Accordion.Toggle as={Card.Header} eventKey=\"0\">\n            Filtros {filterDisplay()}\n          </Accordion.Toggle>\n          <Accordion.Collapse eventKey=\"0\">\n            <Card.Body>\n              <Form onSubmit={handleSubmit}>\n                <Row>\n                  <Col>\n                    <Form.Group>\n                      <Form.Label>Etiqueta</Form.Label>\n                      <Form.Control\n                        name=\"tags\"\n                        value={query.tags}\n                        onChange={handleChange}\n                        type=\"text\"\n                      />\n                    </Form.Group>\n                  </Col>\n                  <Col>\n                    <Form.Group>\n                      <Form.Label>Desde</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        onChange={handleChange}\n                        name=\"from\"\n                        value={query.from}\n                      />\n                    </Form.Group>\n                  </Col>\n                  <Col>\n                    <Form.Group>\n                      <Form.Label>Hasta</Form.Label>\n                      <Form.Control\n                        type=\"date\"\n                        onChange={handleChange}\n                        name=\"to\"\n                        value={query.to}\n                      />\n                    </Form.Group>\n                  </Col>\n                </Row>\n                <Row>\n                  <Col className=\"d-flex justify-content-end w-100\">\n                    <Button\n                      disabled={isLoading}\n                      className=\"mr-3\"\n                      variant=\"success\"\n                      type=\"submit\"\n                    >\n                      <FontAwesomeIcon icon={faSearch} /> Buscar\n                    </Button>\n\n                    <Button\n                      disabled={isLoading}\n                      onClick={clearSearch}\n                      variant=\"danger\"\n                    >\n                      <FontAwesomeIcon icon={faTimesCircle} /> Limpiar búsqueda\n                    </Button>\n                  </Col>\n                </Row>\n              </Form>\n            </Card.Body>\n          </Accordion.Collapse>\n        </Card>\n      </Accordion>\n    </Col>\n  );\n}\n","import React from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\n\nexport default function LoadingScreen() {\n  return (\n    <Container>\n      <Row style={{ height: \"65vh\" }}>\n        <Col />\n        <Col md={2} className=\"my-auto shadow bg-light rounded py-4\">\n          <div className=\"m-auto\" style={{ width: \"4rem\", height: \"4rem\" }}>\n            <div className=\"spinner\"></div>\n          </div>\n          <h1 className=\"mt-3 lead text-gray text-center\">cargando datos...</h1>\n        </Col>\n        <Col />\n      </Row>\n    </Container>\n  );\n}\n","import Axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { Modal, Button, Form } from \"react-bootstrap\";\nimport { notify } from \"react-notify-toast\";\nimport { endpoints } from '../../constants/endpoint';\n\nexport default function TagsModal({\n  show,\n  handleClose,\n  invoiceId,\n  prevTags,\n  refreshData,\n}: {\n  show: boolean;\n  invoiceId: string;\n  handleClose: () => void;\n  refreshData: () => void;\n  prevTags?: string[];\n}) {\n  const [tags, setTags] = useState(\"\");\n\n  useEffect(() => {\n    if (prevTags !== []) {\n      setTags(prevTags ? prevTags.toString() : \"\");\n    } else {\n      return;\n    }\n\n    //eslint-disable-next-line\n  }, [invoiceId]);\n\n  const saveTags = (items: string[]) => {\n    if (invoiceId === \"\") {\n      throw Error(\"No hay invoice id especificado\");\n    }\n    Axios.put(\n      `${endpoints.backend}api/invoice/edit/${invoiceId}`,\n      { tags: items },\n      {\n        headers: { auth: localStorage.getItem(\"bill-token\") },\n      }\n    )\n      .then(({ data }) => {\n        notify.show(\"Datos guardados\", \"success\");\n        refreshData();\n        handleClose();\n      })\n      .catch((err) => {\n        notify.show(err.message, \"error\");\n      });\n  };\n\n  const handleSubmit = (e: any) => {\n    e.preventDefault();\n    const arrayFromString = tags.split(\",\");\n    let processedArray = [];\n    for (let item of arrayFromString) {\n      processedArray.push(item.trim());\n    }\n\n    saveTags(processedArray);\n  };\n\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Form onSubmit={handleSubmit}>\n        <Modal.Header closeButton>\n          <Modal.Title>Agregar etiquetas</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form.Group controlId=\"formBasicEmail\">\n            <Form.Label>Etiquetas separadas por comas</Form.Label>\n            <Form.Control\n              type=\"text\"\n              value={tags}\n              onChange={(e) => setTags(e.target.value)}\n              placeholder=\"pendiente, seguimiento\"\n            />\n          </Form.Group>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Cancelar\n          </Button>\n          <Button variant=\"primary\" type=\"submit\">\n            Guardar\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n}\n","import { faEnvelope } from \"@fortawesome/free-regular-svg-icons\";\nimport {\n  faPaperPlane,\n  faPen,\n  faPrint,\n  faTag,\n  faTrash,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Axios from \"axios\";\nimport React, { useState } from \"react\";\nimport {\n  Badge,\n  Col,\n  ListGroup,\n  OverlayTrigger,\n  Row,\n  Tooltip,\n} from \"react-bootstrap\";\nimport { notify } from \"react-notify-toast\";\nimport { useHistory } from \"react-router-dom\";\nimport { endpoints } from '../../constants/endpoint';\nimport { invoice, queryType } from \"../../Interfaces/invoice\";\nimport LoadingScreen from \"../../Layout/LoadingScreen\";\nimport TagsModal from \"./TagsModal\";\n\nexport default function InvoicesList({\n  completed,\n  pending,\n  deleteBill,\n  refreshData,\n  isLoading,\n}: {\n  isLoading: boolean;\n  completed: invoice[];\n  pending: invoice[];\n  deleteBill: (id: string | undefined) => void;\n  refreshData: (query: queryType) => void;\n}) {\n  const history = useHistory();\n  const [showTagsModal, setShowTagsModal] = useState(false);\n  const [tagData, setTagData] = useState<{ id: string; prevTags: string[] }>({\n    id: \"\",\n    prevTags: [],\n  });\n\n  const toggleTagsModal = (id = \"\", prevTags: string[] = []) => {\n    setTagData({\n      id,\n      prevTags,\n    });\n    setShowTagsModal((prevState) => !prevState);\n  };\n\n  const sendSignatureLinkViaMail = (\n    invoiceId: string | undefined,\n    from: string | undefined\n  ) => {\n    if (invoiceId === undefined || from === undefined) {\n      notify.show(\n        \"Ocurrió un error enviando el mail. Recargue la página y reintente\",\n        \"error\"\n      );\n    } else {\n      const to = window\n        .prompt(\"Escriba la dirección donde quiere enviar el mail\")\n        ?.trim();\n\n      if (to !== \"\") {\n        Axios.post(\n          `${endpoints.backend}api/mail/send/signaturePetition/`,\n          {\n            invoiceId,\n            from,\n            to,\n          }\n        )\n          .then((response) => {\n            if (response.data.success) {\n              notify.show(response.data.message, \"success\");\n              refreshData({});\n            } else {\n              notify.show(response.data.message, \"warning\");\n            }\n          })\n          .catch((err) => {\n            console.log(err);\n            notify.show(\n              \"Ocurrió un error enviando el mail, reintente\",\n              \"error\"\n            );\n          });\n      } else {\n        notify.show(\"Debe especificar un mail válido\", \"error\");\n      }\n    }\n  };\n\n  if (isLoading) {\n    return <LoadingScreen />;\n  } else {\n    return (\n      <>\n        <TagsModal\n          show={showTagsModal}\n          handleClose={() => toggleTagsModal()}\n          invoiceId={tagData.id}\n          prevTags={tagData.prevTags}\n          refreshData={() => refreshData({})}\n        />\n        <Col className=\"bg-white rounded shadow p-3 mb-3\">\n          <small className=\"text-muted\">\n            Boletas pendientes - {pending.length}\n          </small>\n          <ListGroup>\n            {pending.map((invoice, index) => {\n              return (\n                <ListGroup.Item key={index}>\n                  <Row>\n                    <Col md=\"2\">\n                      {Intl.DateTimeFormat(navigator.language, {\n                        day: \"numeric\",\n                        month: \"numeric\",\n                        year: \"numeric\",\n                      }).format(new Date(invoice.date).setUTCHours(3))}{\" \"}\n                    </Col>\n                    <Col>\n                      {invoice.from}{\" \"}\n                      {invoice.tags?.map((item: string, index: number) => (\n                        <Badge key={index} variant=\"info\" className=\"ml-1\">\n                          {item}\n                        </Badge>\n                      ))}{\" \"}\n                      {invoice.alreadySent?.isAlreadySent ? (\n                        <OverlayTrigger\n                          placement=\"top\"\n                          overlay={\n                            <Tooltip id=\"mail-already-sent\">\n                              Mail ya enviado a:{\" \"}\n                              {invoice.alreadySent?.emailAddress}\n                            </Tooltip>\n                          }\n                        >\n                          <FontAwesomeIcon\n                            icon={faEnvelope}\n                            style={{ color: \"#6DB65B\" }}\n                          />\n                        </OverlayTrigger>\n                      ) : null}\n                    </Col>\n                    <Col md=\"2\" className=\"text-right text-primary\">\n                      <FontAwesomeIcon\n                        icon={faTag}\n                        onClick={() =>\n                          toggleTagsModal(invoice._id, invoice.tags)\n                        }\n                      />\n                      <FontAwesomeIcon\n                        onClick={() =>\n                          history.push(`/invoice/edit/${invoice._id}/`)\n                        }\n                        className=\"pointer mx-3\"\n                        icon={faPen}\n                      />\n                      <FontAwesomeIcon\n                        onClick={() => deleteBill(invoice._id)}\n                        className=\"pointer mr-3\"\n                        icon={faTrash}\n                      />\n                      <FontAwesomeIcon\n                        className=\"pointer\"\n                        onClick={() =>\n                          sendSignatureLinkViaMail(invoice._id, invoice.from)\n                        }\n                        icon={faPaperPlane}\n                      />\n                    </Col>\n                  </Row>\n                </ListGroup.Item>\n              );\n            })}\n          </ListGroup>\n          <hr />\n          <small className=\"text-muted\">\n            Boletas finalizadas - {completed.length}\n          </small>\n          <ListGroup>\n            {completed.map((invoice, index) => (\n              <ListGroup.Item key={index}>\n                <Row>\n                  <Col md=\"2\">\n                    {Intl.DateTimeFormat(navigator.language, {\n                      month: \"numeric\",\n                      day: \"numeric\",\n                      year: \"numeric\",\n                    }).format(new Date(invoice.date).setUTCHours(3))}{\" \"}\n                  </Col>\n                  <Col>\n                    {invoice.from}{\" \"}\n                    <small>\n                      ({invoice.currency} ${invoice.amount})\n                    </small>\n                    {invoice.tags?.map((item: string, index: number) => (\n                      <Badge variant=\"info\" className=\"ml-1\">\n                        {item}\n                      </Badge>\n                    ))}{\" \"}\n                  </Col>\n                  <Col md=\"2\" className=\"text-right text-primary\">\n                    <FontAwesomeIcon\n                      className=\"pointer\"\n                      icon={faTag}\n                      onClick={() => toggleTagsModal(invoice._id, invoice.tags)}\n                    />\n\n                    <FontAwesomeIcon\n                      onClick={() =>\n                        history.push(`/invoice/edit/${invoice._id}/`)\n                      }\n                      className=\"ml-3 pointer\"\n                      icon={faPen}\n                    />\n                    <FontAwesomeIcon\n                      onClick={() =>\n                        history.push(`/invoice/display/${invoice._id}/no`)\n                      }\n                      icon={faPrint}\n                      className=\"mx-3 pointer\"\n                    />\n                    <FontAwesomeIcon\n                      onClick={() => deleteBill(invoice._id)}\n                      className=\"pointer\"\n                      icon={faTrash}\n                    />\n                  </Col>\n                </Row>{\" \"}\n              </ListGroup.Item>\n            ))}\n          </ListGroup>\n        </Col>\n      </>\n    );\n  }\n}\n","import Axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport { Col, Container, Row } from \"react-bootstrap\";\nimport { notify } from \"react-notify-toast\";\nimport { useHistory } from \"react-router-dom\";\nimport { endpoints } from '../../constants/endpoint';\nimport { invoice, queryType } from \"../../Interfaces/invoice\";\nimport LoadingScreen from \"../../Layout/LoadingScreen\";\nimport Filter from \"./Filter\";\nimport InvoicesList from \"./InvoicesList\";\n\nexport default function DashboardScreen() {\n  const history = useHistory();\n  const [pendingBills, setPendingBills] = useState<invoice[]>([]);\n  const [completedBills, setCompletedBills] = useState<invoice[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const axiosHeaders = {\n    headers: { auth: localStorage.getItem(\"bill-token\") },\n  };\n\n  const getBills = (query: queryType) => {\n    const completedBills = Axios.get(\n      `${endpoints.backend}api/invoice/completed?from=${query.from}&to=${query.to}&tags=${query.tags}`,\n      axiosHeaders\n    );\n    const pendingBills = Axios.get(\n      `${endpoints.backend}api/invoice/pending?from=${query.from}&to=${query.to}&tags=${query.tags}`,\n      axiosHeaders\n    );\n\n    Axios.all([completedBills, pendingBills])\n      .then(\n        Axios.spread((...response) => {\n          setCompletedBills(response[0].data.data);\n          setPendingBills(response[1].data.data);\n          setIsLoading(false);\n        })\n      )\n      .catch((err) => {\n        notify.show(\"Ocurrió un error trayendo los datos\", \"error\");\n        history.push(\"/\");\n      });\n  };\n\n  const deleteBill = (id: string | undefined) => {\n    if (\n      id !== undefined &&\n      window.confirm(\"Advertencia, se borrará la boleta. ¿Desea Confirmar?\")\n    ) {\n      Axios.delete(\n        `${endpoints.backend}api/invoice/${id}`,\n        axiosHeaders\n      )\n        .then((res) => {\n          if (res.data.success) {\n            notify.show(\"Boleta eliminada\", \"success\");\n            getBills({});\n          } else {\n            notify.show(res.data.message, \"warning\");\n          }\n        })\n        .catch((err) => {\n          notify.show(err.response.data.message, \"error\");\n        });\n    }\n  };\n\n  useEffect(() => {\n    setIsLoading(true);\n    getBills({});\n    //eslint-disable-next-line\n  }, []);\n\n  return (\n    <Container className=\"my-5\">\n      <Row className=\"h-100-minus\">\n        <Col>\n          <Filter\n            isLoading={isLoading}\n            setIsLoading={(bool) => setIsLoading(bool)}\n            submitFilter={(query: queryType) => getBills(query)}\n          />\n          <InvoicesList\n            isLoading={isLoading}\n            refreshData={(query: queryType) => getBills(query)}\n            deleteBill={(id: string | undefined) => deleteBill(id)}\n            completed={completedBills}\n            pending={pendingBills}\n          />\n          {/* <PaginationBar /> */}\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport { UserContext } from \"./UserContext\";\n\nconst PrivateRoute = ({ render: Render, ...rest }: any) => {\n  const User = useContext(UserContext);\n\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n        if (User.isLoggedIn || localStorage.getItem(\"bill-token\")) {\n          return <Render {...props} />;\n        } else {\n          return <Redirect to=\"/\" />;\n        }\n      }}\n    />\n  );\n};\n\nexport default PrivateRoute;\n","import { faTimesCircle } from \"@fortawesome/free-regular-svg-icons\";\nimport { faDownload } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nexport default function DownloadModal({\n  show,\n  handleClose,\n  PDFFile,\n}: {\n  show: boolean;\n  handleClose: () => void;\n  PDFFile: string;\n}) {\n  return (\n    <Modal show={show} onHide={handleClose}>\n      <Modal.Header closeButton>\n        <Modal.Title>¡Boleta lista!</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        Su boleta ha sido generada con éxito. ¿Desea descargar una copia?\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={handleClose}>\n          <FontAwesomeIcon icon={faTimesCircle} /> Ignorar\n        </Button>\n        <a download=\"Comprobante.pdf\" href={PDFFile}>\n          <Button>\n            <FontAwesomeIcon icon={faDownload} /> Descargar comprobante\n          </Button>\n        </a>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n","import { faShare, faTimesCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Axios from \"axios\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Container, Button, Row, Col } from \"react-bootstrap\";\nimport { notify } from \"react-notify-toast\";\nimport { useParams } from \"react-router-dom\";\nimport { endpoints } from \"../../../constants/endpoint\";\nimport { invoice } from \"../../../Interfaces/invoice\";\nimport DownloadModal from \"./DownloadModal\";\nimport io from \"socket.io-client\";\nconst SignaturePad = require(\"react-signature-pad\");\n\nlet socket: SocketIOClient.Socket;\n\nexport default function Signature() {\n  const signatureRef: any = useRef();\n  const { socketId, invoiceId } = useParams<\n    Partial<{\n      socketId: string;\n      invoiceId: string;\n    }>\n  >();\n  const [showModal, setShowModal] = useState(false);\n  const [PDFFile, setPDFFile] = useState(\"\");\n  const [state, setState] = useState<Partial<invoice>>({});\n\n  useEffect(() => {\n    if (socketId) {\n      socket = io(endpoints.backend);\n      socket.emit(\"join\", socketId);\n      socket.emit(\"close\", false);\n\n      socket.on(\"pdf\", (file: string) => {\n        setPDFFile(file);\n        showDeleteModal();\n      });\n    } else if (invoiceId) {\n      Axios.get(\n        `${endpoints.backend}api/invoice/single/${invoiceId}`\n      )\n        .then(({ data }) => {\n          if (data.success) {\n            setState(data.data);\n          }\n        })\n        .catch((err: any) => alert(err.response.data.message));\n    }\n\n    return () => {\n      if (socketId) {\n        socket.off(\"pdf\");\n      }\n    };\n  }, [endpoints.backend]);\n\n  const sendSign = () => {\n    socket.emit(\"sign\", signatureRef.current.toDataURL());\n  };\n\n  const showDeleteModal = () => {\n    setShowModal(!showModal);\n  };\n\n  const submitSignature = () => {\n    if (window.confirm(`¿Confirma el envio de la firma a ${state.from}?`)) {\n      Axios.put(\n        `${endpoints.backend}api/invoice/addSignature/${invoiceId}`,\n        {\n          ...state,\n          sign: signatureRef.current.toDataURL(),\n        }\n      )\n        .then((response) => {\n          notify.show(\n            \"Se ha firmado correctamente. Ya puede salir de esta app.\",\n            \"success\"\n          );\n        })\n        .catch((err) => {\n          notify.show(\n            \"Ocurrió un error enviando la firma. Reintente por favor.\",\n            \"error\"\n          );\n        });\n    }\n  };\n\n  return (\n    <Container className=\"h-100-minus mt-5\">\n      <DownloadModal\n        PDFFile={PDFFile}\n        show={showModal}\n        handleClose={showDeleteModal}\n      />\n      <Row className={invoiceId ? \"d-block\" : \"d-none\"}>\n        <Col className=\"text-center\">\n          <h1>¡Hola!</h1>\n\n          <p>\n            Recibió esta boleta de <strong>{state.from}</strong> con el concepto\n            de <strong>{state.concept}</strong> por el monto total de{\" \"}\n            <strong>\n              {state.currency} {state.amount}\n            </strong>\n          </p>\n\n          <hr />\n        </Col>\n      </Row>\n      <Row>\n        <Col className=\"text-center\">\n          <p className=\"lead m-0\">Firme en el campo en blanco para continuar</p>\n          <small className=\"text-muted\">\n            Coloque el teléfono en modo horizontal para mejor resultado\n          </small>\n        </Col>\n      </Row>\n      <Row className=\"my-5\">\n        <Col\n          onTouchEnd={sendSign}\n          onMouseUp={sendSign}\n          className=\"bg-white shadow rounded\"\n        >\n          <SignaturePad ref={signatureRef} />\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Button\n            className=\"w-100\"\n            variant=\"danger\"\n            onClick={() => {\n              signatureRef.current.clear();\n              sendSign();\n            }}\n          >\n            <FontAwesomeIcon icon={faTimesCircle} /> Reiniciar Firma\n          </Button>\n        </Col>\n        <Col className={invoiceId ? \"d-block\" : \"d-none\"}>\n          <Button className=\"w-100\" variant=\"success\" onClick={submitSignature}>\n            <FontAwesomeIcon icon={faShare} /> Enviar firma\n          </Button>\n        </Col>\n      </Row>\n      <Row className={socketId ? \"d-block my-5 text-center\" : \"d-none\"}>\n        <Col>\n          <p className=\"lead\">¡No cierre esta página!</p>\n          <p>\n            Cuando se genere el comprobante, debajo aparecerá un botón para\n            descargarlo\n          </p>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { Container, Row } from \"react-bootstrap\";\n//eslint-disable-next-line\nimport { invoice } from \"../../../Interfaces/invoice\";\nimport Axios from \"axios\";\nimport { useParams } from \"react-router-dom\";\nimport { savePDF } from \"@progress/kendo-react-pdf\";\nimport { drawDOM, exportPDF } from \"@progress/kendo-drawing\";\nimport Bill from \"./Bill\";\nimport ButtonsGroup from \"./ButtonsGroup\";\nimport { notify } from \"react-notify-toast\";\nimport EmailInput from \"./EmailInput\";\nimport io from \"socket.io-client\";\nimport { endpoints } from \"../../../constants/endpoint\";\n\nlet socket: SocketIOClient.Socket;\n\nexport default function DisplayInvoice() {\n  const invoice = useRef<any>(<div />);\n  const { id, socketId } = useParams<any>();\n\n  const [state, setState] = useState<invoice>({\n    invoiceNumber: 1,\n    logo: \"\",\n    date: new Date(),\n    from: \"\",\n    amountText: \"\",\n    amount: 0,\n    concept: \"\",\n    sign: \"\",\n    currency: \"ARS\",\n    pending: false,\n  });\n  const [showEmail, setShowEmail] = useState<boolean>(false);\n  const [recipient, setRecipient] = useState<string>(\"\");\n  const [validated, setValidated] = useState(false);\n\n  /**\n   * Adapta la fecha para poder ser parseada sin necesidad de usar Moment\n   * @param input Fecha en formato (YYYY-MM-DD)\n   */\n  const dateTransformer = (input: string) => {\n    let dateWithoutTime = input.slice(0, 10);\n    let dateArray = dateWithoutTime.split(\"-\");\n    let year: number = parseInt(dateArray[0]);\n    let month: number = parseInt(dateArray[1], 10) - 1;\n    let date: number = parseInt(dateArray[2]);\n\n    return { year, month, date };\n  };\n\n  /**\n   * Guarda el contenido del DOM a PDF para descargar\n   */\n  const exportPDFToFile = () => {\n    savePDF(invoice.current, {\n      paperSize: \"A4\",\n      fileName: `Invoice - ${Intl.DateTimeFormat(navigator.language, {\n        month: \"numeric\",\n        day: \"numeric\",\n        year: \"numeric\",\n      }).format(new Date(state.date))} - ${id}`,\n      landscape: true,\n      scale: 0.75,\n    });\n  };\n\n  /**\n   * Transformar el DOM que contiene el PDF a Base64\n   */\n  const transformPDFToBase64 = () => {\n    const base64 = drawDOM(invoice.current, {\n      paperSize: \"A4\",\n      landscape: true,\n      scale: 0.75,\n    }).then((group) => {\n      return exportPDF(group);\n    });\n\n    return base64;\n  };\n\n  const emitPDFViaSocket = async () => {\n    console.log(\"Sending PDF\");\n    socket.emit(\"pdf\", await transformPDFToBase64());\n  };\n\n  /**\n   * Enviar base64 del PDF por email al recipiente especificado\n   */\n  const sendEmail = async (e: any) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    const file = await transformPDFToBase64();\n\n    if (form.checkValidity() === true) {\n      Axios.post(`${endpoints.backend}api/mail/send/invoice`, {\n        file,\n        date: state.date,\n        email: recipient,\n      })\n        .then(({ data }) => {\n          let { success, message } = data;\n\n          if (success) {\n            notify.show(message, \"success\");\n          } else {\n            notify.show(message, \"error\");\n          }\n        })\n        .catch((error) => {\n          console.log(error.response.data);\n        });\n    }\n\n    setValidated(true);\n  };\n\n  useEffect(() => {\n    socket = io(endpoints.backend);\n\n    Axios.get(`${endpoints.backend}api/invoice/single/${id}`).then(\n      ({ data }) => {\n        const { year, month, date } = dateTransformer(data.data.date);\n        setState({ ...data.data, date: new Date(year, month, date) });\n      }\n    );\n\n    socket.emit(\"join\", socketId);\n\n    return () => {\n      socket.off(\"join\");\n    };\n    //eslint-disable-next-line\n  }, [endpoints.backend]);\n\n  return (\n    <Container>\n      <Row className=\"my-5\">\n        <ButtonsGroup\n          exportPDFToFile={exportPDFToFile}\n          transformPDFToBase64={emitPDFViaSocket}\n          toggleEmailInput={() => setShowEmail(!showEmail)}\n          hasSocketId={socketId === \"no\"}\n        />\n      </Row>\n      <Row className={showEmail ? \"d-block\" : \"d-none\"}>\n        <EmailInput\n          recipient={recipient}\n          sendEmail={(e) => sendEmail(e)}\n          setRecipient={(e) => setRecipient(e.target.value)}\n          validated={validated}\n        />\n      </Row>\n      <div ref={invoice}>\n        <Bill data={state} isOriginal />\n        <Bill data={state} />\n      </div>\n    </Container>\n  );\n}\n","import React from \"react\";\nimport { Row, Col } from \"react-bootstrap\";\nimport { invoice } from \"../../../Interfaces/invoice\";\n\nexport default function Bill({\n  isOriginal = false,\n  data,\n}: {\n  isOriginal?: boolean;\n  data: invoice;\n}) {\n  return (\n    <Row className=\"pdf-font my-5 py-5 bg-white\">\n      <Col md={1}>\n        <p\n          className=\"text-muted p-0 mb-0 text-center\"\n          style={{\n            height: 64,\n            marginTop: 150,\n            width: 109,\n            paddingLeft: 0,\n          }}\n        >\n          {isOriginal ? \"Recibo Original\" : \"Recibo Duplicado\"}\n        </p>\n      </Col>\n\n      <Col className=\"px-5\">\n        <Row className=\"border-bottom mt-3 pb-3\">\n          <Col>\n            {data.logo ? (\n              <>\n                <img src={data.logo} alt=\"RollingCode School\" height=\"50\" />\n                <p className=\"text-monospace\">\n                  Recibo N°: {data.invoiceNumber}\n                </p>\n              </>\n            ) : (\n              <p className=\"text-monospace\">Recibo N°: {data.invoiceNumber}</p>\n            )}\n          </Col>\n\n          <Col md=\"2\"></Col>\n\n          <Col className=\"text-center\">\n            <p className=\"my-0\">\n              <strong>Fecha: </strong>\n              {Intl.DateTimeFormat(navigator.language, {\n                weekday: \"long\",\n                month: \"long\",\n                day: \"numeric\",\n                year: \"numeric\",\n              }).format(new Date(data.date))}\n            </p>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col>\n            <Row className=\"bg-light my-3\">\n              <Col md={3}>\n                <p className=\"text-center my-2\">\n                  <strong>Recibí</strong>\n                </p>\n              </Col>\n              <Col>\n                <p className=\"my-2\">\n                  <strong>De: </strong>\n                  {data.from}\n                </p>\n              </Col>\n            </Row>\n\n            <Row className=\"bg-light my-3\">\n              <Col>\n                <p className=\"my-2\">\n                  <strong>La cantidad de: </strong>\n                  {data.amountText}\n                </p>\n              </Col>\n            </Row>\n            <Row className=\"bg-light my-3\">\n              <Col>\n                <p className=\"my-2\">\n                  <strong>En concepto de: </strong> {data.concept}\n                </p>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n        <Row>\n          <Col md={2} className=\"bg-light\">\n            <p className=\"my-2\">\n              <strong>Son: </strong> {data.currency} ${data.amount}\n            </p>\n          </Col>\n          <Col />\n          <Col md={6} className=\"bg-light\">\n            <p className=\"my-2\">\n              <strong>Recibo por: </strong>\n              <img src={data.sign} height=\"120\" alt=\"signature\" />\n            </p>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  );\n}\n","import {\n  faEnvelope,\n  faFileDownload,\n  faPhone,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Col, Button } from \"react-bootstrap\";\n\nexport default function ButtonsGroup({\n  exportPDFToFile,\n  transformPDFToBase64,\n  toggleEmailInput,\n  hasSocketId,\n}: {\n  exportPDFToFile: () => void;\n  transformPDFToBase64: () => void;\n  toggleEmailInput: () => void;\n  hasSocketId?: boolean;\n}) {\n  return (\n    <Col className=\"p-3 bg-light text-center shadow rounded\">\n      <Button className=\"mx-2\" onClick={exportPDFToFile}>\n        <FontAwesomeIcon icon={faFileDownload} /> Descargar PDF\n      </Button>\n      <Button\n        disabled={hasSocketId}\n        className=\"mx-2\"\n        onClick={transformPDFToBase64}\n      >\n        <FontAwesomeIcon icon={faPhone} /> Enviar PDF al Teléfono\n      </Button>\n      <Button onClick={toggleEmailInput} className=\"mx-2\">\n        <FontAwesomeIcon icon={faEnvelope} /> Enviar copia por email\n      </Button>\n    </Col>\n  );\n}\n","import { faPaperPlane } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport React from \"react\";\nimport { Col, Form, Button } from \"react-bootstrap\";\n\nexport default function EmailInput({\n  sendEmail,\n  setRecipient,\n  recipient,\n  validated,\n}: {\n  sendEmail: (e: any) => void;\n  setRecipient: (e: any) => void;\n  recipient: string;\n  validated: boolean;\n}) {\n  return (\n    <Col className=\"px-5 py-3 bg-white shadow rounded\">\n      <Form noValidate onSubmit={sendEmail} validated={validated}>\n        <Form.Group>\n          <Form.Label>Dirección de e-mail</Form.Label>\n          <Form.Control\n            type=\"email\"\n            value={recipient}\n            onChange={setRecipient}\n            placeholder=\"correo@server.com\"\n            required\n          />\n          <Form.Control.Feedback type=\"invalid\">\n            Se necesita un E-mail válido\n          </Form.Control.Feedback>\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\">\n          <FontAwesomeIcon icon={faPaperPlane} /> Enviar\n        </Button>\n      </Form>\n    </Col>\n  );\n}\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  Button,\r\n  Row,\r\n  Col,\r\n  InputGroup,\r\n  Spinner,\r\n} from \"react-bootstrap\";\r\nimport {\r\n  faSave,\r\n  faTimesCircle,\r\n  faQrcode,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { notify } from \"react-notify-toast\";\r\nimport { invoice } from \"../../../Interfaces/invoice\";\r\nimport Axios from \"axios\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport ShowQRCodeModal from \"../qr/ShowQRCodeModal\";\r\nimport { IdGeneration } from \"../../../Context/IdGeneration\";\r\nimport { UserContext } from \"../../../Context/UserContext\";\r\nimport io from \"socket.io-client\";\r\nimport { endpoints } from \"../../../constants/endpoint\";\r\n\r\nlet socket: SocketIOClient.Socket;\r\nlet socketRoomId: string;\r\n\r\nexport default function GenerateInvoice() {\r\n  var date = new Date().toISOString().substr(0, 10);\r\n\r\n  const axiosHeaders = localStorage.getItem(\"bill-token\")\r\n    ? { headers: { auth: localStorage.getItem(\"bill-token\") } }\r\n    : undefined;\r\n\r\n  const { id } = useParams<any>();\r\n\r\n  // Get uniqueId for this session\r\n  const { generateId } = useContext(IdGeneration);\r\n  const { isLoggedIn } = useContext(UserContext);\r\n\r\n  //Setting up state\r\n  const [state, setState] = useState<invoice>({\r\n    invoiceNumber: 1,\r\n    date,\r\n    from: \"\",\r\n    amountText: \"\",\r\n    amount: 0,\r\n    concept: \"\",\r\n    currency: \"ARS\",\r\n    pending: false,\r\n    sign: \"\",\r\n  });\r\n  const [validated, setValidated] = useState(false);\r\n  const [showQRCodeModal, setShowQRCodeModal] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  // Setting up history\r\n  const history = useHistory();\r\n\r\n  /**\r\n   * Opens and closes QRCode modal\r\n   */\r\n  const toggleShowQRCodeModal = () => {\r\n    setShowQRCodeModal((i) => !i);\r\n  };\r\n\r\n  /**\r\n   * Keeps track of inputs and saves them to state\r\n   * @param e Input\r\n   */\r\n  const handleChange = (e: any) => {\r\n    let { name, value, type, checked } = e.target;\r\n    let newValue = type === \"checkbox\" ? checked : value;\r\n\r\n    setState({ ...state, [name]: newValue });\r\n  };\r\n\r\n  /**\r\n   * Saves invoice to database\r\n   * @param e Form\r\n   */\r\n  const handleSubmit = (e: {\r\n    preventDefault: () => void;\r\n    currentTarget?: any;\r\n    stopPropagation: () => void;\r\n  }) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    setIsLoading(true);\r\n\r\n    let { currentTarget } = e;\r\n    if (!state.sign && !state.pending) {\r\n      notify.show(\"Se necesita la firma para continuar\", \"error\");\r\n      setIsLoading(false);\r\n      return null;\r\n    }\r\n\r\n    if (currentTarget.checkValidity() === false) {\r\n      notify.show(\"Please verify the form and try again\", \"error\");\r\n    } else {\r\n      if (id) {\r\n        Axios.put(\r\n          `${endpoints.backend}api/invoice/edit/${id}`,\r\n          { ...state },\r\n          { headers: { auth: localStorage.getItem(\"bill-token\") } }\r\n        )\r\n          .then(({ data }) => {\r\n            if (data.success) {\r\n              history.push(`/invoice/display/${data.data._id}/${socketRoomId}`);\r\n            }\r\n            notify.show(data.message, \"success\");\r\n            setIsLoading(false);\r\n          })\r\n          .catch((err) => {\r\n            notify.show(\r\n              \"Ocurrió un error creando el comprobante, por favor reintente\",\r\n              \"error\"\r\n            );\r\n            setIsLoading(false);\r\n          });\r\n      } else {\r\n        Axios.post(\r\n          `${endpoints.backend}api/invoice/`,\r\n          { ...state },\r\n          axiosHeaders\r\n        )\r\n          .then(({ data }) => {\r\n            if (data.id) {\r\n              history.push(\r\n                state.pending\r\n                  ? `/dashboard`\r\n                  : `/invoice/display/${data.id}/${socketRoomId}`\r\n              );\r\n            }\r\n            notify.show(data.message, \"success\");\r\n            setIsLoading(false);\r\n          })\r\n          .catch((err) => {\r\n            console.log(err.message);\r\n\r\n            notify.show(\r\n              \"Ocurrió un error creando el comprobante, por favor reintente\",\r\n              \"error\"\r\n            );\r\n            setIsLoading(false);\r\n          });\r\n      }\r\n    }\r\n\r\n    setValidated(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket = io(endpoints.backend);\r\n\r\n    if (id) {\r\n      Axios.get(`${endpoints.backend}api/invoice/single/${id}`).then(\r\n        ({ data }) => {\r\n          const newDate = data.data.date.substr(0, 10);\r\n          setState({ ...data.data, date: newDate });\r\n        }\r\n      );\r\n    }\r\n\r\n    socket.on(\"close\", () => {\r\n      setShowQRCodeModal(false)\r\n      notify.show(\"Teléfono Conectado!\", 'success')\r\n    });\r\n\r\n    socket.on(\"sign\", (data: string) => {\r\n      setState((oldstate) => ({ ...oldstate, sign: data }));\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"close\");\r\n    };\r\n\r\n    //eslint-disable-next-line\r\n  }, [endpoints.backend]);\r\n\r\n  const showQRCodeModalAndGenerateCode = async () => {\r\n    if (!socketRoomId) {\r\n      socketRoomId = generateId();\r\n      socket.emit(\"join\", socketRoomId);\r\n    }\r\n    setShowQRCodeModal((i) => !i);\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <ShowQRCodeModal\r\n        currentId={socketRoomId}\r\n        show={showQRCodeModal}\r\n        onHide={toggleShowQRCodeModal}\r\n      />\r\n      <Row className=\"h-100-minus align-items-center\">\r\n        <Col className=\"bg-light p-3 shadow rounded\">\r\n          <Form noValidate validated={validated} onSubmit={handleSubmit}>\r\n            <Row>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.Label>Fecha</Form.Label>\r\n                  <Form.Control\r\n                    required\r\n                    name=\"date\"\r\n                    onChange={handleChange}\r\n                    value={state.date.toString()}\r\n                    type=\"date\"\r\n                  />\r\n                  <Form.Control.Feedback type=\"invalid\">\r\n                    La fecha es necesaria\r\n                  </Form.Control.Feedback>\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col md=\"3\">\r\n                <p className=\"text-center\">Recibo</p>\r\n              </Col>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.Label>De</Form.Label>\r\n                  <Form.Control\r\n                    required\r\n                    name=\"from\"\r\n                    onChange={handleChange}\r\n                    value={state.from}\r\n                    type=\"text\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.Label>Cantidad</Form.Label>\r\n                  <Form.Control\r\n                    required\r\n                    name=\"amountText\"\r\n                    onChange={handleChange}\r\n                    value={state.amountText}\r\n                    type=\"text\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col>\r\n                <Form.Group>\r\n                  <Form.Label>En concepto de</Form.Label>\r\n                  <Form.Control\r\n                    required\r\n                    name=\"concept\"\r\n                    onChange={handleChange}\r\n                    value={state.concept}\r\n                    type=\"text\"\r\n                  />\r\n                </Form.Group>\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col sm={12} md={3}>\r\n                <Form.Group>\r\n                  <Form.Label>Cantidad</Form.Label>\r\n                  <InputGroup>\r\n                    <InputGroup.Prepend>\r\n                      <InputGroup.Text>\r\n                        <select\r\n                          name=\"currency\"\r\n                          onChange={handleChange}\r\n                          value={state.currency}\r\n                          className=\"no-decoration\"\r\n                        >\r\n                          <option>ARS</option>\r\n                          <option>USD</option>\r\n                        </select>\r\n                      </InputGroup.Text>\r\n                    </InputGroup.Prepend>\r\n                    <Form.Control\r\n                      required\r\n                      name=\"amount\"\r\n                      onChange={handleChange}\r\n                      value={state.amount}\r\n                      min={1}\r\n                      type=\"number\"\r\n                    />\r\n                  </InputGroup>\r\n                </Form.Group>\r\n              </Col>\r\n              <Col className=\"text-right\">\r\n                <p className=\"lead\">Firma</p>\r\n              </Col>\r\n              <Col>\r\n                {state.sign ? (\r\n                  <img height=\"100\" src={state.sign} alt=\"signature\" />\r\n                ) : null}\r\n              </Col>\r\n            </Row>\r\n            <Row>\r\n              <Col className=\"text-right d-flex align-items-center justify-content-end\">\r\n                {isLoggedIn ? (\r\n                  <fieldset className=\"mr-3 py-1 px-2 border border-gray rounded\">\r\n                    <label className=\"m-0 p-0\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        name=\"pending\"\r\n                        checked={state.pending}\r\n                        onChange={handleChange}\r\n                        className=\"mr-1 p-0 m-0\"\r\n                      />\r\n                      Marcar boleta para firmar luego\r\n                    </label>\r\n                  </fieldset>\r\n                ) : null}\r\n\r\n                <Button\r\n                  variant=\"info\"\r\n                  onClick={showQRCodeModalAndGenerateCode}\r\n                  className=\"mr-3\"\r\n                >\r\n                  <FontAwesomeIcon icon={faQrcode} /> Mostrar QR para firmar\r\n                </Button>\r\n                <Button\r\n                  disabled={isLoading}\r\n                  variant=\"secondary\"\r\n                  className=\"mr-3\"\r\n                  onClick={() => {\r\n                    history.push(\"/\");\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon icon={faTimesCircle} /> Cancelar\r\n                </Button>\r\n                <Button disabled={isLoading} variant=\"primary\" type=\"submit\">\r\n                  {isLoading ? (\r\n                    <Spinner size=\"sm\" animation=\"border\" />\r\n                  ) : (\r\n                    <FontAwesomeIcon icon={faSave} />\r\n                  )}{\" \"}\r\n                  Guardar\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","// Import utilities\nimport React, { Fragment } from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\n// Import context\nimport UserContextProvider from \"./Context/UserContext\";\n\n// Import pages\nimport Home from \"./Pages/Home\";\nimport Signup from \"./Pages/auth/Signup\";\nimport Login from \"./Pages/auth/Login\";\nimport Logout from \"./Pages/auth/Logout\";\n\n// Import layout\nimport Navigation from \"./Layout/NavigationBar/Navigation\";\nimport ShowQRCodeModal from \"./Pages/invoice/qr/ShowQRCodeModal\";\nimport IdGenerationProvider from \"./Context/IdGeneration\";\nimport DashboardScreen from \"./Pages/dashboard/DashboardScreen\";\nimport PrivateRoute from \"./Context/PrivateRoute\";\nimport Signature from \"./Pages/invoice/generate/Signature\";\nimport DisplayInvoice from \"./Pages/invoice/display/DisplayInvoice\";\nimport GenerateInvoice from \"./Pages/invoice/generate/GenerateInvoice\";\n\nfunction App() {\n\n  return (\n    <Fragment>\n      <UserContextProvider>\n        <IdGenerationProvider>\n          <HashRouter basename={process.env.PUBLIC_URL}>\n            <Navigation />\n            <Switch>\n              {/* User authentication */}\n              <Route path={`/signup`} component={Signup} />\n              <Route path={`/login`} component={Login} />\n              <Route path={`/logout`} component={Logout} />\n              <Route path={`/`} exact component={Home} />\n\n              {/* Invoice */}\n              <Route path={`/invoice/generate`} component={GenerateInvoice} />\n              <PrivateRoute\n                path={`/invoice/edit/:id`}\n                render={() => <GenerateInvoice />}\n              />\n              <Route\n                path={`/invoice/display/:id/:socketId`}\n                component={DisplayInvoice}\n              />\n              <Route path={`/invoice/code/:id`} component={ShowQRCodeModal} />\n\n              {/* Dashboard */}\n              <PrivateRoute\n                path={`/dashboard`}\n                render={() => <DashboardScreen />}\n              />\n\n              {/* Signature pad */}\n              <Route path={`/signature/:socketId`} component={Signature} />\n              <Route\n                path={`/offlinesignature/:invoiceId`}\n                component={Signature}\n              />\n              <Route render={() => <div>Not found</div>} />\n            </Switch>\n          </HashRouter>\n        </IdGenerationProvider>\n      </UserContextProvider>\n    </Fragment>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport Notifications from \"react-notify-toast\";\nimport \"./styles/customBootstrap.css\";\nimport \"./styles/main.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Notifications\n        options={{\n          zIndex: 998,\n          top: \"56px\",\n          colors: {\n            error: { color: \"#FFFFFF\", backgroundColor: \"#ff7851\" },\n            success: { color: \"#FFFFFF\", backgroundColor: \"#56cc9d\" },\n          },\n        }}\n      />\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}